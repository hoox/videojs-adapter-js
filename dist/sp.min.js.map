{"version":3,"sources":["node_modules/browser-pack/_prelude.js","manifest.json","node_modules/youboralib/manifest.json","node_modules/youboralib/src/adapter/adapter.js","node_modules/youboralib/src/adapter/playbackchronos.js","node_modules/youboralib/src/adapter/playbackflags.js","node_modules/youboralib/src/adapter/playheadmonitor.js","node_modules/youboralib/src/chrono.js","node_modules/youboralib/src/comm/communication.js","node_modules/youboralib/src/comm/request.js","node_modules/youboralib/src/comm/transform/flow.js","node_modules/youboralib/src/comm/transform/nqs6.js","node_modules/youboralib/src/comm/transform/resource.js","node_modules/youboralib/src/comm/transform/resourceparsers/cdnparser.js","node_modules/youboralib/src/comm/transform/resourceparsers/hlsparser.js","node_modules/youboralib/src/comm/transform/transform.js","node_modules/youboralib/src/comm/transform/view.js","node_modules/youboralib/src/constants.js","node_modules/youboralib/src/emitter.js","node_modules/youboralib/src/log.js","node_modules/youboralib/src/object.js","node_modules/youboralib/src/plugin/options.js","node_modules/youboralib/src/plugin/plugin.js","node_modules/youboralib/src/plugin/requestbuilder.js","node_modules/youboralib/src/polyfills.js","node_modules/youboralib/src/timer.js","node_modules/youboralib/src/util.js","node_modules/youboralib/src/version.js","node_modules/youboralib/src/youboralib.js","src/adapter.js","src/ads/brightcove.js","src/ads/generic.js","src/ads/ima.js","src/ads/onceux.js","src/register-plugin.js","src/sp.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","youbora","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","name","type","tech","author","version","repo","built","features","buffer","seek","getters","libVersion","ads","filename","Emitter","Log","PlaybackChronos","PlaybackFlags","PlayheadMonitor","Adapter","extend","constructor","player","flags","chronos","monitor","plugin","document","getElementById","tag","registerListeners","notice","getVersion","emit","Event","READY","unregisterListeners","dispose","stop","fireStop","monitorPlayhead","monitorBuffers","monitorSeeks","interval","Type","BUFFER","SEEK","getPlayhead","getPlayrate","isPaused","getFramesPerSecond","getDroppedFrames","getDuration","getBitrate","getThroughput","getRendition","getTitle","getTitle2","getIsLive","getResource","getPlayerVersion","getPlayerName","getPosition","fireStart","params","isStarted","total","start","join","START","fireJoin","isJoined","JOIN","firePause","pause","PAUSE","fireResume","skipNextTick","RESUME","fireBufferBegin","convertFromSeek","isBuffering","isSeeking","clone","reset","BUFFER_BEGIN","fireBufferEnd","BUFFER_END","fireSeekBegin","convertFromBuffer","SEEK_BEGIN","fireSeekEnd","SEEK_END","STOP","fireError","msg","metadata","level","errorCode","errorMsg","errorMetadata","errorLevel","ERROR","fireFatalError","FATAL_ERROR","YouboraObject","Chrono","Timer","adapter","_adapter","_seekEnabled","_bufferEnabled","_chrono","_lastPlayhead","_timer","progress","bind","deltaTime","bufferThreshold","kBUFFER_THRESHOLD_RATIO","seekThreshold","kSEEK_THRESHOLD_RATIO","currentPlayhead","_getPlayhead","diffPlayhead","Math","abs","NONE","startTime","stopTime","offset","getDeltaTime","now","Date","getTime","chrono","YBRequest","Transform","Communication","transforms","_requests","sendRequest","request","callback","on","SUCCESS","_registerRequest","buildRequest","host","service","addTransform","transform","parse","isBlocking","push","DONE","_processRequests","warn","removeTransform","pos","indexOf","splice","workingQueue","rejected","shift","_transform","send","ret","forEach","options","xhr","createXHR","Object","assign","method","requestHeaders","maxRetries","retryAfter","cache","retries","setParam","XMLHttpRequest","ActiveXObject","err","error","getXHR","getUrl","getParamString","event","addEventListener","off","removeEventListener","key","param","string","encodeURIComponent","JSON","stringify","slice","getParam","value","open","hasOwnProperty","setRequestHeader","genericError","setTimeout","logLevel","Level","VERBOSE","verbose","_globalListeners","LOAD","ABORT","onEvery","offEvery","index","Constants","FlowTransform","_services","Service","INIT","_isBusy","done","prototype","apply","arguments","Nqs6Transform","_cloneParam","PING","entities","entityType","entityValue","from","to","HlsParser","CdnParser","ResourceTransform","__super__","_plugin","_realResource","_initResource","_cdnName","_cdnNodeHost","_cdnNodeTypeString","_cdnNodeType","_responses","getCdnName","getNodeHost","getNodeTypeString","getNodeType","init","resource","setBalancerHeaderName","_cdnNameHeader","_hlsEnabled","isParseHls","_cdnEnabled","isParseCdnNode","_cdnList","getParseCdnNodeList","getParseCdnNodeNameHeader","_setTimeout","_parseHLS","_parseCDN","_parseTimeout","hlsTransform","_hlsTransform","cdn","pop","cdnParser","create","getResponses","lastSent","requestBuilder","mediaResource","nodeHost","nodeType","nodeTypeString","_options","cdnName","parsers","parseType","addParser","parser","setCdnName","setParseType","url","responses","headerString","_parseResponse","_requestResponse","resp","getAllResponseHeaders","headers","split","line","headerName","_executeParser","matches","regex","exec","trim","element","toUpperCase","_cdns","Level3","X-WR-DIAG","Cloudfront","Akamai","Highwinds","Fastly","Balancer","add","parentResource","res","lastIndexOf","responseText","Util","ViewTransform","response","_viewIndex","DATA","apiVersion","outputformat","buildParams","system","_request","getHost","_receiveData","_failedData","req","addProtocol","q","h","c","pingTime","pt","nextView","getViewCode","AD_START","AD_JOIN","AD_PAUSE","AD_RESUME","AD_BUFFER","AD_STOP","_listeners","data","Array","isArray","_eachCallback","target","_emitter","SILENT","WARNING","NOTICE","DEBUG","LOG","plainLogs","report","color","console","log","letters","5","4","3","2","letter","prefix","_getCurrentTime","documentMode","_plainReport","logMethod","debug","d","hh","getDate","mm","getMinutes","ss","getSeconds","mmm","getMilliseconds","m","loadLevelFromUrl","location","search","m2","protoProps","staticProps","parent","NewClass","enumerable","writable","configurable","Options","setOptions","base","RequestBuilder","Plugin","isInitiated","isPreloading","preloadChrono","initChrono","_adsAdapter","_ping","_sendPing","resourceTransform","viewTransform","setAdapter","_reset","_stopPings","removeAdapter","_startListener","_joinListener","_pauseListener","_resumeListener","_seekBeginListener","_seekEndListener","_bufferBeginListener","_bufferEndListener","_errorListener","_stopListener","getAdapter","setAdsAdapter","adsAdapter","removeAdsAdapter","_adStartListener","_adJoinListener","_adPauseListener","_adResumeListener","_adBufferBeginListener","_adBufferEndListener","_adStopListener","getAdsAdapter","disable","enabled","enable","_send","willSendEvent","_comm","lastServeiceSent","_initComm","firePreloadBegin","firePreloadEnd","fireInit","_startPings","WILL_SEND_INIT","title","WILL_SEND_START","WILL_SEND_JOIN","joinDuration","WILL_SEND_PAUSE","playhead","WILL_SEND_RESUME","pauseDuration","WILL_SEND_SEEK","seekDuration","WILL_SEND_BUFFER","bufferDuration","WILL_SEND_ERROR","WILL_SEND_STOP","adNumber","getNewAdNumber","WILL_SEND_AD_START","adPosition","WILL_SEND_AD_JOIN","adJoinDuration","WILL_SEND_AD_PAUSE","adPlayhead","WILL_SEND_AD_RESUME","adPauseDuration","WILL_SEND_AD_BUFFER","adBufferDuration","min","WILL_SEND_AD_STOP","adTotalDuration","isRunning","diffTime","getChangedEntities","fetchParams","WILL_SEND_PING","stripProtocol","parseNumber","getWebkitDroppedFrames","webkitDroppedFrameCount","round","getWebkitBitrate","webkitVideoDecodedByteCount","bitrate","_lastWebkitBitrate","delta","getOriginalResource","getTransactionCode","getMetadata","getCdn","getPluginVersion","getAdapterVersion","getExtraparam1","getExtraparam2","getExtraparam3","getExtraparam4","getExtraparam5","getExtraparam6","getExtraparam7","getExtraparam8","getExtraparam9","getExtraparam10","getAdPlayerVersion","getAdPosition","getAdPlayhead","getAdDuration","getAdBitrate","getWebkitAdBitrate","_lastWebkitAdBitrate","getAdTitle","getAdResource","getAdAdapterVersion","getAdMetadata","getPluginInfo","lib","adAdapter","getIp","getIsp","getConnectionType","getDeviceCode","getAccountCode","getUsername","getReferer","href","getPreloadDuration","getInitDuration","getJoinDuration","getBufferDuration","getSeekDuration","getPauseDuration","getAdJoinDuration","getAdBufferDuration","getAdPauseDuration","getAdTotalDuration","WILL_SEND_FATAL_ERROR","startParams","_adNumber","paramList","onlyDifferent","getterName","differentParams","/data","/init","/start","/joinTime","/pause","/resume","/seek","/bufferUnderrun","/error","concat","/stop","/adStart","/adJoin","/adPause","/adResume","/adBufferUnerrun","/adStop","/ping","/join","playrate","fps","droppedFrames","mediaDuration","throughput","rendition","title2","live","transactionCode","properties","playerVersion","pluginVersion","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","adDuration","adBitrate","adTitle","adResource","adPlayerVersion","adProperties","adAdapterVersion","pluginInfo","isp","connectionType","ip","deviceCode","accountCode","username","preloadDuration","referer","applyPolyfills","Function","b","TypeError","C","undefined","output","source","nextKey","Temp","propertiesObject","result","defineProperties","thisArg","len","obj","toString","_setTick","clearTimeout","replace","httpSecure","protocol","def","isNaN","Infinity","logAllEvents","extraEvents","playerEvents","buildRenditionString","width","height","previousYoubora","noConflict","VERSION","polyfills","Request","adapters","manifest","Videojs5","snapshot","currentTime","absoluteTime","mediainfo","duration","getTech","hls_","currentSrc","hls","bandwidth","media","playlists","attributes","BANDWIDTH","levels","currentLevel","att","NAME","RESOLUTION","ima","ima3","FreeWheelPlugin","onceux","pluginName","ver","videojs","IWillNotUseThisInPlugins","loadstartListener","adsreadyListener","playListener","timeupdateListener","pauseListener","playingListener","abortListener","endedListener","disposeListener","seekingListener","seekedListener","errorListener","autoplay","loadAdsAdapter","lastSeekPlayhead","message","google","BrightcoveAdsAdapter","ImaAdsAdapter","OnceUXAdsAdapter","GenericAdsAdapter","adPlayer","imaStartedListener","imaPausedListener","imaResumedListener","imaCompleteListener","imaSkippedListener","skipped","adStartListener","adEndListener","adSkipListener","getAdsManager","getCurrentAd","getRemainingTime","AdEvent","ALL_ADS_COMPLETED","LINEAR_CHANGED","USER_CLOSE","COMPLETE","IMPRESSION","CONTENT_PAUSE_REQUESTED","CONTENT_RESUME_REQUESTED","SKIPPED","SKIPPABLE_STATE_CHANGED","LOADED","PAUSED","RESUMED","STARTED","AD_CAN_PLAY","AD_METADATA","EXPANDED_CHANGED","AD_BREAK_READY","loadedListener","contentPauseRequestedListener","startedListener","pausedListener","resumedListener","completeListener","skippedListener","contentSrc","youboraplugin","VideoJS5"],"mappings":"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","file":"sp.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports={\n  \"name\": \"videojs5\",\n  \"type\": \"adapter\",\n  \"tech\": \"js\",\n  \"author\": \"Jordi Aguilar\",\n  \"version\": \"6.0.0-rc\",\n  \"repo\": \"git+https://bitbucket.org/npaw/videojs5-adapter-js.git\",\n  \"built\": \"Wed Jan 25 2017\",\n  \"features\": {\n    \"buffer\": \"monitor\",\n    \"seek\": \"native\",\n    \"getters\": [\n      \"getPlayhead\",\n      \"getDuration\",\n      \"getBitrate\",\n      \"getThroughput\",\n      \"getRendition\",\n      \"getTitle\",\n      \"getResource\"\n    ]\n  },\n  \"libVersion\": \"6.0.0-rc\",\n  \"ads\": [\n    {\n      \"buffer\": \"monitor\",\n      \"seek\": \"monitor\",\n      \"getters\": [\n        \"getPlayhead\"\n      ],\n      \"filename\": \"brightcove.js\"\n    },\n    {\n      \"buffer\": \"monitor\",\n      \"seek\": \"monitor\",\n      \"getters\": [],\n      \"filename\": \"generic.js\"\n    },\n    {\n      \"buffer\": \"monitor\",\n      \"seek\": \"monitor\",\n      \"getters\": [\n        \"getPlayhead\",\n        \"getDuration\",\n        \"getTitle\"\n      ],\n      \"filename\": \"ima.js\"\n    },\n    {\n      \"buffer\": \"monitor\",\n      \"seek\": \"monitor\",\n      \"getters\": [\n        \"getPlayhead\",\n        \"getDuration\",\n        \"getResource\"\n      ],\n      \"filename\": \"onceux.js\"\n    }\n  ]\n}","module.exports={\n  \"type\": \"core\",\n  \"tech\": \"js\",\n  \"author\": \"Jordi Aguilar\",\n  \"version\": \"6.0.0-rc\",\n  \"repo\": \"git+https://bitbucket.org/npaw/plugin-lib-js.git\",\n  \"built\": \"Wed Jan 25 2017\"\n}","var Emitter = require('../emitter')\nvar Log = require('../log')\nvar version = require('../version')\nvar PlaybackChronos = require('./playbackchronos')\nvar PlaybackFlags = require('./playbackflags')\nvar PlayheadMonitor = require('./playheadmonitor')\n\nvar Adapter = Emitter.extend(\n  /** @lends Adapter.prototype */\n  {\n    /**\n     * This class is the basic adapter from which specific adapters will extend.\n     * It receives a player: If it is an object, it will be saved as this.player.\n     * It it is a string, it will be saved as this.player = document.getElementById(...)\n     * Will call registerListeners()\n     *\n     * @constructs Adapter\n     * @extends Emitter\n     * @memberof youbora\n     *\n     * @param {object|string} player Either an instance of the player or a string containing an ID.\n     */\n    constructor: function (player) {\n      /** An instance of {@link FlagStatus} */\n      this.flags = new PlaybackFlags()\n\n      /** An instance of {@link ChronoStatus} */\n      this.chronos = new PlaybackChronos()\n\n      /** Reference to {@link PlayheadMonitor}. Helps the plugin detect buffers/seeks. */\n      this.monitor = null\n\n      /** Reference to {@link Plugin}. */\n      this.plugin = null\n\n      /** Reference to the player tag */\n      this.player = null\n      if (typeof player === 'string') {\n        this.player = document.getElementById(player)\n      } else {\n        this.player = player\n      }\n\n      /** Reference to the video/object tag, could be the same as the player. */\n      this.tag = this.player\n\n      this.registerListeners()\n\n      Log.notice('Adapter ' + this.getVersion() + ' with Lib ' + version + ' is ready.')\n\n      this.emit(Adapter.Event.READY)\n    },\n\n    /**\n     * Override to create event binders.\n     * @example\n     * registerListeners: function () {\n     *  this.player.addEventListener('start', this.onStart.bind(this))\n     * },\n     * onStart: function (e) {\n     *  this.emit('start')\n     * }\n     */\n    registerListeners: function () { },\n\n    /**\n     * Override to create event de-binders.\n     * @example\n     * registerListeners: function () {\n     *  this.player.removeEventListener('start', this.onStart)\n     * }\n     */\n    unregisterListeners: function () { },\n\n    /**\n     * This function disposes the currend adapter, removes player listeners and drops references.\n     */\n    dispose: function () {\n      if (this.monitor) this.monitor.stop()\n      this.fireStop()\n      this.unregisterListeners()\n      this.player = null\n      this.tag = null\n    },\n\n    /**\n     * Creates a {@link PlayheadMonitor} at this.monitor.\n     *\n     * @param {bool} monitorBuffers If true, it will monitor buffers.\n     * @param {bool} monitorSeeks If true, it will monitor seeks.\n     * @param {number} [interval=800] The interval time in ms.\n     */\n    monitorPlayhead: function (monitorBuffers, monitorSeeks, interval) {\n      var type = 0\n      if (monitorBuffers) type |= PlayheadMonitor.Type.BUFFER\n      if (monitorSeeks) type |= PlayheadMonitor.Type.SEEK\n\n      this.monitor = new PlayheadMonitor(this, type, interval)\n    },\n\n    // GETTERS //\n\n    /** Override to return current playhead of the video */\n    getPlayhead: function () {\n      return null\n    },\n\n    /** Override to return current playrate */\n    getPlayrate: function () {\n      return !this.flags.isPaused ? 1 : 0\n    },\n\n    /** Override to return Frames Per Secon (FPS) */\n    getFramesPerSecond: function () {\n      return null\n    },\n\n    /** Override to return dropped frames since start */\n    getDroppedFrames: function () {\n      return null\n    },\n\n    /** Override to return video duration */\n    getDuration: function () {\n      return null\n    },\n\n    /** Override to return current bitrate */\n    getBitrate: function () {\n      return null\n    },\n\n    /** Override to return user bandwidth throughput */\n    getThroughput: function () {\n      return null\n    },\n\n    /** Override to return rendition */\n    getRendition: function () {\n      return null\n    },\n\n    /** Override to return title */\n    getTitle: function () {\n      return null\n    },\n\n    /** Override to return title2 */\n    getTitle2: function () {\n      return null\n    },\n\n    /** Override to recurn true if live and false if VOD */\n    getIsLive: function () {\n      return null\n    },\n\n    /** Override to return resource URL. */\n    getResource: function () {\n      return null\n    },\n\n    /** Override to return player version */\n    getPlayerVersion: function () {\n      return null\n    },\n\n    /** Override to return player's name */\n    getPlayerName: function () {\n      return null\n    },\n\n    /** Override to return adapter version. */\n    getVersion: function () {\n      return version + '-generic-js'\n    },\n\n    /** Override to return current ad position (only ads) */\n    getPosition: function () {\n      return null\n    },\n\n    // FLOW //\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {Object} [params] Object of key:value params.\n     */\n    fireStart: function (params) {\n      if (!this.flags.isStarted) {\n        this.flags.isStarted = true\n\n        this.chronos.total.start()\n        this.chronos.join.start()\n\n        this.emit(Adapter.Event.START, { params: params })\n      }\n    },\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {Object} [params] Object of key:value params.\n     */\n    fireJoin: function (params) {\n      if (this.flags.isStarted && !this.flags.isJoined) {\n        if (this.monitor) this.monitor.start()\n\n        this.flags.isJoined = true\n\n        this.chronos.join.stop()\n\n        this.emit(Adapter.Event.JOIN, { params: params })\n      }\n    },\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {Object} [params] Object of key:value params.\n     */\n    firePause: function (params) {\n      if (this.flags.isJoined && !this.flags.isPaused) {\n        this.flags.isPaused = true\n\n        this.chronos.pause.start()\n\n        this.emit(Adapter.Event.PAUSE, { params: params })\n      }\n    },\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {Object} [params] Object of key:value params.\n     */\n    fireResume: function (params) {\n      if (this.flags.isJoined && this.flags.isPaused) {\n        this.flags.isPaused = false\n\n        this.chronos.pause.stop()\n\n        if (this.monitor) this.monitor.skipNextTick()\n\n        this.emit(Adapter.Event.RESUME, { params: params })\n      }\n    },\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {Object} [params] Object of key:value params.\n     * @param {bool} [convertFromSeek=false] If true, will convert current seek to buffer.\n     */\n    fireBufferBegin: function (params, convertFromSeek) {\n      if (this.flags.isJoined && !this.flags.isBuffering) {\n        if (convertFromSeek && this.flags.isSeeking) {\n          Log.notice('Converting current buffer to seek')\n\n          this.chronos.buffer = this.chronos.seek.clone()\n          this.chronos.seek.reset()\n\n          this.flags.isSeeking = false\n        } else {\n          this.chronos.buffer.start()\n        }\n        this.flags.isBuffering = true\n\n        this.emit(Adapter.Event.BUFFER_BEGIN, { params: params })\n      }\n    },\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {Object} [params] Object of key:value params.\n     */\n    fireBufferEnd: function (params) {\n      if (this.flags.isJoined && this.flags.isBuffering) {\n        this.flags.isBuffering = false\n\n        this.chronos.buffer.stop()\n\n        if (this.monitor) this.monitor.skipNextTick()\n\n        this.emit(Adapter.Event.BUFFER_END, { params: params })\n      }\n    },\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {Object} [params] Object of key:value params.\n     * @param {bool} [convertFromBuffer=true] If false, will convert current buffer to seek.\n     */\n    fireSeekBegin: function (params, convertFromBuffer) {\n      if (this.flags.isJoined && !this.flags.isSeeking) {\n        if (convertFromBuffer !== false && this.flags.isBuffering) {\n          Log.notice('Converting current buffer to seek')\n\n          this.chronos.seek = this.chronos.buffer.clone()\n          this.chronos.buffer.reset()\n\n          this.flags.isBuffering = false\n        } else {\n          this.chronos.seek.start()\n        }\n\n        this.flags.isSeeking = true\n\n        this.emit(Adapter.Event.SEEK_BEGIN, { params: params })\n      }\n    },\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {Object} [params] Object of key:value params.\n     */\n    fireSeekEnd: function (params) {\n      if (this.flags.isJoined && this.flags.isSeeking) {\n        this.flags.isSeeking = false\n\n        this.chronos.seek.stop()\n\n        if (this.monitor) this.monitor.skipNextTick()\n\n        this.emit(Adapter.Event.SEEK_END, { params: params })\n      }\n    },\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {Object} [params] Object of key:value params.\n     */\n    fireStop: function (params) {\n      if (this.flags.isStarted) {\n        if (this.monitor) this.monitor.stop()\n\n        this.flags.reset()\n\n        this.chronos.total.stop()\n        this.chronos.join.reset()\n        this.chronos.pause.reset()\n        this.chronos.buffer.reset()\n        this.chronos.seek.reset()\n\n        this.emit(Adapter.Event.STOP, { params: params })\n      }\n    },\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {String|Object} [code] Error Code, if an object is sent, it will be treated as params.\n     * @param {String} [msg] Error Message\n     * @param {Object} [metadata] Object defining error metadata\n     * @param {String} [level] Level of the error. Currently supports 'error' and 'fatal'\n     */\n    fireError: function (code, msg, metadata, level) {\n      var params = {}\n      if (typeof code === 'object') {\n        params = code\n      } else {\n        params.errorCode = code || 'PLAY_FAILURE'\n        params.errorMsg = msg || params.errorCode\n        params.errorMetadata = metadata\n        params.errorLevel = level || 'error'\n      }\n\n      this.emit(Adapter.Event.ERROR, { params: params })\n    },\n\n    /**\n     * Emits related event and set flags if current status is valid.\n     * ie: won't sent start if isStarted is already true.\n     *\n     * @param {String|Object} [code] Error Code, if an object is sent, it will be treated as params.\n     * @param {String} [msg] Error Message\n     * @param {Object} [metadata] Object defining error metadata\n     */\n    fireFatalError: function (code, msg, metadata) {\n      if (this.monitor) this.monitor.stop()\n\n      this.fireError(code, msg, metadata, 'fatal')\n      this.fireStop()\n    }\n  },\n\n  /** @lend Adapter */\n  {\n    // Static Memebers //\n\n    /**\n     * List of events that could be fired\n     * @enum\n     */\n    Event: {\n      READY: 'ready',\n\n      START: 'start',\n      JOIN: 'join',\n      PAUSE: 'pause',\n      RESUME: 'resume',\n      SEEK_BEGIN: 'seek-begin',\n      SEEK_END: 'seek-end',\n      BUFFER_BEGIN: 'buffer-begin',\n      BUFFER_END: 'buffer-end',\n      ERROR: 'error',\n      FATAL_ERROR: 'fatal-error',\n      STOP: 'stop'\n    }\n  }\n)\n\nmodule.exports = Adapter\n","var YouboraObject = require('../object')\nvar Chrono = require('../chrono')\n\nvar PlaybackChronos = YouboraObject.extend(\n  /** @lends PlaybackChronos.prototype */\n  {\n    /**\n     * This class contains all the {@link Chrono}s related to view status.\n     * Chronos measure time lapses between events.\n     * ie: between start and join, between seek-begin and seek-end, etc.\n     * Each plugin will have an instance of this class.\n     *\n     * @constructs PlaybackChronos\n     * @extends YouboraObject\n     * @memberof youbora\n     */\n    constructor: function () {\n      this.reset()\n    },\n\n    /** Reset flag values */\n    reset: function () {\n      /** Chrono between start and joinTime. */\n      this.join = new Chrono()\n\n      /** Chrono between seek-begin and seek-end. */\n      this.seek = new Chrono()\n\n      /** Chrono between pause and resume. */\n      this.pause = new Chrono()\n\n      /** Chrono between buffer-begin and buffer-end. */\n      this.buffer = new Chrono()\n\n      /** Chrono for the totality of the view. */\n      this.total = new Chrono()\n    }\n  }\n)\n\nmodule.exports = PlaybackChronos\n","var YouboraObject = require('../object')\n\nvar PlaybackFlags = YouboraObject.extend(\n  /** @lends PlaybackFlags.prototype */\n  {\n    /**\n     * This class contains all the flags related to view status.\n     * Each plugin will have an instance of this class.\n     *\n     * @constructs PlaybackFlags\n     * @extends YouboraObject\n     * @memberof youbora\n     */\n    constructor: function () {\n      this.reset()\n    },\n\n    /** Reset flag values */\n    reset: function () {\n      /** Flag when Start has been sent. */\n      this.isStarted = false\n\n      /** Flag when Join has been sent. */\n      this.isJoined = false\n\n      /** Flag when Player is paused. */\n      this.isPaused = false\n\n      /** Flag when Player is seeking. */\n      this.isSeeking = false\n\n      /** Flag when Player is buffering. */\n      this.isBuffering = false\n    }\n  }\n)\n\nmodule.exports = PlaybackFlags\n","var YouboraObject = require('../object')\nvar Timer = require('../timer')\nvar Chrono = require('../chrono')\n// var Log = require('../log')\n\nvar PlayheadMonitor = YouboraObject.extend(\n  /** @lends PlayheadMonitor.prototype */\n  {\n    /**\n     * This Class store youbora configuration settings.\n     *\n     * @constructs PlayheadMonitor\n     * @extends YouboraObject\n     * @memberof youbora\n     *\n     * @param {Adapter} adapter Adapter to monitor. Must have getPlayhead defined.\n     * @param {PlayheadMonitor.Type} [type=NONE]\n     * Which metric to monitor seek and/or buffer.\n     * Use bitwise operators to join both values (Type.BUFFER | Type.SEEK)\n     * @param {int} [interval=800] How many ms will wait between progress. -1 to disable.\n     */\n    constructor: function (adapter, type, interval) {\n      this._adapter = adapter\n      this._seekEnabled = type & PlayheadMonitor.Type.SEEK\n      this._bufferEnabled = type & PlayheadMonitor.Type.BUFFER\n      interval = interval || 800\n\n      this._chrono = new Chrono()\n      this._lastPlayhead = 0\n\n      if (interval > 0) {\n        this._timer = new Timer(this.progress.bind(this), interval)\n      }\n    },\n\n    /**\n     * Start interval checks.\n     */\n    start: function () {\n      this._timer.start()\n    },\n\n    /**\n     * Stop interval checks.\n     */\n    stop: function () {\n      if (this._timer) this._timer.stop()\n    },\n\n    skipNextTick: function () {\n      this._lastPlayhead = 0\n    },\n\n    /**\n     * Call this method at every tick of timeupdate/progress.\n     * If you defined an interval, do not fire this method manually.\n     */\n    progress: function () {\n      // Reset timer\n      var deltaTime = this._chrono.stop()\n      this._chrono.start()\n\n      // Define thresholds\n      var bufferThreshold = deltaTime * PlayheadMonitor.kBUFFER_THRESHOLD_RATIO\n      var seekThreshold = deltaTime * PlayheadMonitor.kSEEK_THRESHOLD_RATIO\n\n      // Calculate diff playhead\n      var currentPlayhead = this._getPlayhead()\n      var diffPlayhead = Math.abs(this._lastPlayhead - currentPlayhead) * 1000\n\n      // Log.debug('curr: ' + currentPlayhead +\n      //   ' last: ' + this._lastPlayhead +\n      //   ' diff: ' + diffPlayhead)\n\n      if (diffPlayhead < bufferThreshold) {\n        // Playhead is stalling > buffer\n        if (this._bufferEnabled &&\n          this._lastPlayhead > 0 &&\n          !this._adapter.flags.isPaused &&\n          !this._adapter.flags.isSeeking\n        ) {\n          this._adapter.fireBufferBegin(null, false)\n        }\n      } else if (diffPlayhead > seekThreshold) {\n        // Playhead has jumped > seek\n        if (this._seekEnabled && this._lastPlayhead > 0) {\n          this._adapter.fireSeekBegin(null, false)\n        }\n      } else {\n        // Healthy\n        if (this._seekEnabled) {\n          this._adapter.fireSeekEnd()\n        } else if (\n          this._bufferEnabled) {\n          this._adapter.fireBufferEnd()\n        }\n      }\n\n      // Update Playhead\n      this._lastPlayhead = currentPlayhead\n    },\n    /**\n     * Returns adapter's playhead. Override to add a custom playhead getter.\n     * @private\n     * @returns {double} Playhead in seconds\n     */\n    _getPlayhead: function () {\n      return this._adapter.getPlayhead()\n    }\n  }, {\n    // Static methods\n\n    /**\n     * Enum for monitoring type\n     * @enum\n     */\n    Type: {\n      /** Would not monitor */\n      NONE: 0,\n      /** Sends buffer-begin/end */\n      BUFFER: 1,\n      /** Sends seek-begin/end */\n      SEEK: 2\n    },\n\n    /** Buffer threshold */\n    kBUFFER_THRESHOLD_RATIO: 0.5,\n\n    /** Seek threshold */\n    kSEEK_THRESHOLD_RATIO: 2\n  })\n\nmodule.exports = PlayheadMonitor\n","var YouboraObject = require('./object')\n\nvar Chrono = YouboraObject.extend(\n  /** @lends Chrono.prototype */\n  {\n    /**\n     * This class calculates time lapses between two points.\n     *\n     * @constructs Chrono\n     * @extends YouboraObject\n     * @memberof youbora\n     */\n    constructor: function () {\n      this.reset()\n    },\n\n    /** Reset chrono values. */\n    reset: function () {\n      /** Start time */\n      this.startTime = 0\n\n      /** Stop time */\n      this.stopTime = 0\n\n      /** Offset to be added to deltaTime and stop. in ms. */\n      this.offset = 0\n    },\n\n    /**\n     * Returns the time between start() and the last stop() in ms. Returns -1 if start wasn't\n     * called.\n     * @param {boolean} [stop=true] If true, it will force a stop() if it wasn't called before.\n     * @return {number} Time lapse in ms.\n     */\n    getDeltaTime: function (stop) {\n      var now = new Date().getTime()\n      if (this.startTime) {\n        if (stop && !this.stopTime) { this.stopTime = now }\n        return this.offset + (now - this.startTime)\n      } else {\n        return -1\n      }\n    },\n\n    /**\n     * Starts the chrono.\n     */\n    start: function () {\n      this.startTime = new Date().getTime()\n      this.stopTime = 0\n    },\n\n    /**\n     * Stops the timer and returns current delta time.\n     * @return {number} Returns the delta time\n     */\n    stop: function () {\n      this.stopTime = new Date().getTime()\n      return this.startTime ? this.offset + (this.stopTime - this.startTime) : -1\n    },\n\n    /**\n     * Creates a copy of the chrono.\n     */\n    clone: function () {\n      var chrono = new Chrono()\n      chrono.startTime = this.startTime\n      chrono.stopTime = this.stopTime\n      chrono.offset = this.offset\n      return chrono\n    }\n  }\n)\n\nmodule.exports = Chrono\n","var YouboraObject = require('../object')\nvar Log = require('../log')\nvar YBRequest = require('./request')\nvar Transform = require('./transform/transform')\n\nvar Communication = YouboraObject.extend(\n  /** @lends Communication.prototype */\n  {\n    /**\n     * Youbora Communication implements an abstraction layer over API requests.\n     * Internally, Communication implements queues of {@link Request} objects.\n     * This queue can be blocked using {@link Transform}\n     *\n     * @constructs Communication\n     * @extends YouboraObject\n     * @memberof youbora\n     *\n     * @param {string} host The fastdata host address.\n     * @param {boolean} httpSecure True for https, false for http, undefined for //.\n     */\n    constructor: function () {\n      /** Array of {@link Transform}, only when the array is empty the request Queues will begin sending. */\n      this.transforms = []\n\n      /**\n       * Queue of {@link YBRequest}\n       * @private\n       */\n      this._requests = []\n    },\n\n    /**\n     * Enqueues the request provided.\n     *\n     * @param {YBRequest} request Request to be enqueued\n     * @param {function} [callback] The defined load callback to the Request\n     */\n    sendRequest: function (request, callback) {\n      if (request) {\n        if (typeof callback === 'function') request.on(YBRequest.Event.SUCCESS, callback)\n        this._registerRequest(request)\n      }\n    },\n\n    /**\n     * Build a generic request to the given host.\n     *\n     * @param {string} host Host of the service called.\n     * @param {string} service A string with the service to be called. ie: '/data', '/joinTime'...\n     * @param {Object} [params] Object of key:value params.\n     * @param {function} [callback] The defined load callback to the Request\n     */\n    buildRequest: function (host, service, params, callback) {\n      params = params || {}\n      var request = new YBRequest(host, service, params)\n      if (typeof callback === 'function') request.on(YBRequest.Event.SUCCESS, callback)\n      this._registerRequest(request)\n    },\n\n    /**\n     * Adds a Transform to the queue. See {@link Transform}.\n     *\n     * @param {RequestTransform} transform\n     */\n    addTransform: function (transform) {\n      if (transform.parse && transform.isBlocking) {\n        this.transforms.push(transform)\n        transform.on(Transform.Event.DONE, this._processRequests.bind(this))\n      } else {\n        Log.warn(transform + ' is not a valid RequestTransform.')\n      }\n    },\n\n    /**\n     * Removes a {@link Transform}.\n     *\n     * @param {RequestTransform} transform Transform object to remove.\n     */\n    removeTransform: function (transform) {\n      var pos = this.transforms.indexOf(transform)\n      if (pos !== -1) {\n        this.transforms.splice(pos, 1)\n      } else {\n        Log.warn('Trying to remove unexisting Transform \\'' + transform + '\\'.')\n      }\n    },\n\n    /**\n     * Adds an {@link YBRequest} to the queue of requests.\n     *\n     * @private\n     * @param {YBRequest} request The Request to be queued.\n     */\n    _registerRequest: function (request) {\n      this._requests.push(request)\n      this._processRequests()\n    },\n\n    /**\n     * Execute pending requests in the queue. Returns rejected ones to the queue.\n     * @private\n     */\n    _processRequests: function () {\n      var workingQueue = this._requests\n      this._requests = []\n\n      var rejected = []\n      while (workingQueue.length) {\n        var request = workingQueue.shift()\n        if (this._transform(request)) {\n          request.send()\n        } else {\n          rejected.push(request)\n        }\n      }\n\n      while (rejected.length) {\n        this._requests.push(rejected.shift())\n      }\n    },\n\n    /**\n     * Pass the given request to each transform.\n     * @private\n     * @returns {bool} True if everything is right. False if some parser rejected it.\n     */\n    _transform: function (request) {\n      var ret = true\n      this.transforms.forEach(function (transform) {\n        if (transform.isBlocking(request)) {\n          ret = false\n          return // break foreach loop\n        } else {\n          transform.parse(request)\n        }\n      })\n      return ret\n    }\n  })\n\nmodule.exports = Communication\n","var YouboraObject = require('../object')\nvar Log = require('../log')\n\nvar YBRequest = YouboraObject.extend(\n  /** @lends YBRequest.prototype */\n  {\n    /**\n     * YBYBRequest class will wrap XmlHttpRequest and extend its functionality, allowing youbora\n     * to manage queues, blockers and retries.\n     *\n     * @constructs YBRequest\n     * @extends Object\n     * @memberof youbora\n     *\n     * @param {string} host URL of the request. ie: nqs.nice264.com\n     * @param {string} [service] Name of the service. ie '/start'\n     * @param {Object} [params] Object of key:value params.\n     * @param {Object} [options] Object with custom options.\n     * @param {string} [options.method=\"GET\"] Specifies the method of the request. ie: \"GET\", \"HEAD\".\n     * @param {string} [options.requestHeaders] Object with options of requestHeaders.\n     * ie: { header: value }.\n     * @param {number} [options.retryAfter=5000] Time in ms before sending a failed request again.\n     * 0 to disable.\n     * @param {number} [options.maxRetries=3] Max number of retries. 0 to disable.\n     * @param {bool} [options.cache=false] If false, timestamp will be added to each request to\n     * prevent caching.\n     */\n    constructor: function (host, service, params, options) {\n      /** Instance of XmlHttpRequest (or the item returned by createXHR method). */\n      this.xhr = this.createXHR()\n\n      /** Host of the request */\n      this.host = host || ''\n\n      /** Service of the request */\n      this.service = service || ''\n\n      /** Object of params of the request */\n      this.params = params || {}\n\n      /** Options of the request */\n      this.options = Object.assign({\n        method: 'GET',\n        requestHeaders: {},\n        maxRetries: 3,\n        retryAfter: 5000,\n        cache: false\n      }, options)\n\n      /** Number of times this request has failed and retried. */\n      this.retries = 0\n\n      // Add timemark\n      if (!this.options.cache) {\n        this.setParam('timemark', new Date().getTime())\n      }\n    },\n\n    /**\n     * Creates XMLHttpRequest if it is available in the browser.\n     * If not, it tries to create an ActiveXObject XMLHTTP item.\n     * Override this function for custom environments.\n     *\n     * @return YBRequest handler.\n     */\n    createXHR: function () {\n      try {\n        if (XMLHttpRequest) {\n          return new XMLHttpRequest()\n        } else {\n          return new ActiveXObject('Microsoft.XMLHTTP')\n        }\n      } catch (err) {\n        Log.error(err)\n        return {}\n      }\n    },\n\n    /**\n     * Returns xhr object.\n     *\n     * @return {XmlHttpRequest} object.\n     */\n    getXHR: function () {\n      return this.xhr\n    },\n\n    /** Returns the complete formed url of the request url+service+params. */\n    getUrl: function () {\n      return this.host + this.service + this.getParamString()\n    },\n\n    /**\n     * Wraps this.getHXR.addEventListener.\n     * Accepts a callback that receives (this YBRequest, event)\n     */\n    on: function (event, callback) {\n      this.xhr.addEventListener(event, callback.bind(this, this))\n      return this\n    },\n\n    /** Wraps this.getHXR.removeEventListener */\n    off: function (event, callback) {\n      this.xhr.removeEventListener(event, callback)\n      return this\n    },\n\n    /**\n     * Returns the params of the request, stringified.\n     * ie: '?pluginVersion=5.1.0&systemCode=nicetv'.\n     * @return {string} Concatenated Params\n     */\n    getParamString: function () {\n      try {\n        var params = '?'\n        for (var key in this.params) {\n          var param = this.params[key]\n          if (param !== null && typeof param === 'object') {\n            var string = encodeURIComponent(JSON.stringify(param))\n            if (string.length > 2) {\n              params += encodeURIComponent(key) + '=' + string + '&'\n            }\n          } else if (param !== null && typeof param !== 'undefined' && param !== '') {\n            params += encodeURIComponent(key) + '=' + encodeURIComponent(param) + '&'\n          }\n        }\n        return params.slice(0, -1)\n      } catch (err) {\n        Log.error(err)\n        return ''\n      }\n    },\n\n    /**\n     * Returns the value of the given param, or undefined.\n     * @param {string} key Name of the param.\n     * @return {any}\n     */\n    getParam: function (key) {\n      return this.params[key]\n    },\n\n    /**\n     * Add or set a parameter for the request.\n     * ie: if you want to add 'username=user' use setParam('username', 'user').\n     * @param {string} key Name of the param.\n     * @param {string} value Name of the param.\n     * @return this\n     */\n    setParam: function (key, value) {\n      this.params[key] = value\n      return this\n    },\n\n    /**\n     * Sends the request.\n     *\n     * @return returns xhr.send()\n     */\n    send: function () {\n      try {\n        this.xhr.open(this.options.method, this.getUrl(), true)\n\n        // Add custom headers\n        if (this.options.requestHeaders) {\n          for (var key in this.options.requestHeaders) {\n            if (this.options.requestHeaders.hasOwnProperty(key)) {\n              this.xhr.setRequestHeader(key, this.options.requestHeaders[key])\n            }\n          }\n        }\n\n        // Add retries system\n        if (this.options.retryAfter > 0 && this.options.maxRetries > 0) {\n          var genericError = function () {\n            if (this.retries >= this.options.maxRetries) {\n              Log.error('Aborting failed request \"' + this.service + '\". Max retries reached.')\n            } else {\n              Log.warn('YBRequest \"' + this.service + '\" failed. Retry ' + (this.retries + 1) + ' of ' +\n                this.options.maxRetries + ' in ' + this.options.retryAfter + 'ms.')\n\n              setTimeout(function () {\n                this.retries += 1\n                this.send()\n              }.bind(this), this.options.retryAfter)\n            }\n          }\n          if (this.retries === 0) {\n            this.on(YBRequest.Event.ERROR, genericError.bind(this))\n          }\n        }\n\n        // Log XHR\n        if (Log.logLevel <= Log.Level.VERBOSE) {\n          Log.verbose('XHR Req: ' + this.getUrl())\n        }\n\n        // Register 'on every' listeners\n        for (var event in YBRequest._globalListeners) {\n          YBRequest._globalListeners[event].forEach(function (callback) {\n            this.on(event, callback)\n          }.bind(this))\n        }\n\n        // Send\n        return this.xhr.send()\n      } catch (err) {\n        Log.error(err)\n      }\n    }\n  },\n\n  /** @lends YBRequest */\n  {\n    /**\n     * List of events that could be fired from XHR\n     * @enum\n     */\n    Event: {\n      /** Request successful */\n      SUCCESS: 'load',\n      /** Request successful */\n      LOAD: 'load', // Native JS\n      /** Request returned error */\n      ERROR: 'error',\n      /** Request aborted */\n      ABORT: 'abort'\n    },\n\n    /** @private */\n    _globalListeners: {},\n\n    /**\n     * Adds a callback to every instance.\n     * @param {string} event Name of the event.\n     * @param {function} callback Callback of the event.\n     */\n    onEvery: function (event, callback) {\n      YBRequest._globalListeners[event] = YBRequest._globalListeners[event] || []\n      YBRequest._globalListeners[event].push(callback)\n    },\n\n    /**\n     * Removes a global callback\n     * @param {string} event Name of the event.\n     * @param {function} callback Callback of the event.\n     */\n    offEvery: function (event, callback) {\n      if (YBRequest._globalListeners[event]) {\n        var index = YBRequest._globalListeners[event].indexOf(callback)\n        if (index !== -1) {\n          YBRequest._globalListeners[event].splice(index, 1)\n        }\n      }\n    }\n  })\n\nmodule.exports = YBRequest\n","var Transform = require('./transform')\nvar Constants = require('../../constants')\n\n/**\n * This class manages Flow restrictions. All requests shall be blocked until /init or /start are\n * received.\n *\n * @constructs\n * @extends Transform\n * @memberof youbora\n *\n * @param {Plugin} plugin Instance of {@link Plugin}\n */\nvar FlowTransform = Transform.extend(\n  /** @lends FlowTransform.prototype */\n  {\n    _services: [Constants.Service.INIT, Constants.Service.START],\n\n    /**\n     * Returns if transform is blocking.\n     *\n     * @param {YBRequest} request Request to transform.\n     * @return {bool} True if queue shall be blocked.\n     */\n    isBlocking: function (request) {\n      if (this._isBusy && request != null && this._services.indexOf(request.service) !== -1) {\n        this.done()\n      }\n\n      return Transform.prototype.isBlocking.apply(this, arguments)\n    }\n  }\n)\n\nmodule.exports = FlowTransform\n","var Transform = require('./transform')\nvar Constants = require('../../constants')\n\nvar Nqs6Transform = Transform.extend(\n  /** @lends Nqs6Transform.prototype */\n  {\n    /**\n     * This class ensures NQS6 retrocompatibility\n     *\n     * @constructs\n     * @extends Transform\n     * @memberof youbora\n     */\n    constructor: function () {\n      this.done()\n    },\n\n    /**\n     * Transform requests\n     * @param {YBRequest} request YBRequest to transform.\n     */\n    parse: function (request) {\n      this._cloneParam(request, 'accountCode', 'system')\n      this._cloneParam(request, 'transactionCode', 'transcode')\n      this._cloneParam(request, 'username', 'user')\n      this._cloneParam(request, 'mediaResource', 'resource')\n      this._cloneParam(request, 'errorMsg', 'msg')\n\n      if (request.service !== Constants.Service.JOIN) {\n        this._cloneParam(request, 'playhead', 'time')\n      }\n\n      switch (request.service) {\n        case Constants.Service.START:\n          this._cloneParam(request, 'mediaDuration', 'duration')\n          break\n\n        case Constants.Service.JOIN:\n          this._cloneParam(request, 'joinDuration', 'time')\n          this._cloneParam(request, 'playhead', 'eventTime')\n          break\n\n        case Constants.Service.SEEK:\n          this._cloneParam(request, 'seekDuration', 'duration')\n          break\n\n        case Constants.Service.BUFFER:\n          this._cloneParam(request, 'bufferDuration', 'duration')\n          break\n\n        case Constants.Service.PING:\n          for (var key in request.params.entities) {\n            request.params.entityType = key\n            request.params.entityValue = request.params.entities[key]\n            break\n          }\n          break\n      }\n    },\n\n    _cloneParam: function (request, from, to) {\n      request.params[to] = request.params[from]\n    }\n  })\n\nmodule.exports = Nqs6Transform\n","var Transform = require('./transform')\nvar HlsParser = require('./resourceparsers/hlsparser')\nvar CdnParser = require('./resourceparsers/cdnparser')\nvar Log = require('../../log')\nvar Constants = require('../../constants')\n\nvar ResourceTransform = Transform.extend(\n  /** @lends ResourceTransform.prototype */\n  {\n    /**\n     * This class parses resource to fetch transportstreams, CDNs and Node plugin.\n     *\n     * @constructs ResourceTransform\n     * @extends Transform\n     * @memberof youbora\n     *\n     * @param {Plugin} plugin Instance of {@link Plugin}\n     */\n    constructor: function (plugin) {\n      ResourceTransform.__super__.constructor.apply(this, arguments)\n\n      this._plugin = plugin\n\n      this._realResource = null\n      this._initResource = null\n      this._cdnName = null\n      this._cdnNodeHost = null\n      this._cdnNodeTypeString = null\n      this._cdnNodeType = null\n      this._responses = {}\n\n      this._isBusy = false\n    },\n\n    getResource: function () {\n      return this._realResource || this._initResource\n    },\n\n    getCdnName: function () {\n      return this._cdnName\n    },\n\n    getNodeHost: function () {\n      return this._cdnNodeHost\n    },\n\n    getNodeTypeString: function () {\n      return this._cdnNodeTypeString\n    },\n\n    getNodeType: function () {\n      return this._cdnNodeType\n    },\n\n    init: function (resource) {\n      if (!this._isBusy) {\n        this._isBusy = true\n\n        this._initResource = resource\n\n        CdnParser.setBalancerHeaderName(this._cdnNameHeader)\n        this._hlsEnabled = this._plugin.isParseHls()\n        this._cdnEnabled = this._plugin.isParseCdnNode()\n        this._cdnList = this._plugin.getParseCdnNodeList().slice() // clone\n        this._cdnNameHeader = this._plugin.getParseCdnNodeNameHeader()\n\n        this._setTimeout()\n\n        if (this._hlsEnabled) {\n          this._parseHLS()\n        } else if (this._cdnEnabled) {\n          this._parseCDN()\n        } else {\n          this.done()\n        }\n      }\n    },\n\n    _setTimeout: function () {\n      // Abort operation after 3s\n      this._parseTimeout = setTimeout(function () {\n        if (this._isBusy) {\n          this.done()\n          Log.warn(\n            'ResourceTransform has exceded the maximum execution time (3s) and will be aborted.'\n          )\n        }\n      }.bind(this), 3000)\n    },\n\n    _parseHLS: function () {\n      var hlsTransform = new HlsParser()\n      hlsTransform.on(HlsParser.Event.DONE, function () {\n        this._realResource = this._hlsTransform.getResource()\n        if (this._cdnEnabled) {\n          this._parseCDN()\n        } else {\n          this.done()\n        }\n      }.bind(this))\n      hlsTransform.parse(this._initResource)\n    },\n\n    _parseCDN: function () {\n      if (this._cdnList.length > 0) {\n        var cdn = this._cdnList.pop()\n\n        if (this.getNodeHost()) this.done()\n\n        var cdnParser = CdnParser.create(cdn)\n\n        if (cdnParser) {\n          cdnParser.on(CdnParser.Event.DONE, function () {\n            this._responses = cdnParser.getResponses()\n            this._cdnName = cdnParser.getCdnName()\n            this._cdnNodeHost = cdnParser.getNodeHost()\n            this._cdnNodeTypeString = cdnParser.getNodeTypeString()\n            this._cdnNodeType = cdnParser.getNodeType()\n\n            if (this.getNodeHost()) this.done()\n          }.bind(this))\n          cdnParser.parse(this.getResource(), this._responses)\n        } else {\n          this._parseCDN()\n        }\n      }\n    },\n\n    /**\n     * Transform requests\n     * @param {YBRequest} request YBRequest to transform.\n     */\n    parse: function (request) {\n      if (request.service === Constants.Service.START) {\n        var lastSent = this._plugin.requestBuilder.lastSent\n        lastSent.mediaResource = request.params.mediaResource = this.getResource()\n\n        if (this._cdnEnabled) {\n          lastSent.cdn = request.params.cdn = request.params.cdn || this.getCdnName()\n          lastSent.nodeHost = request.params.nodeHost = this.getNodeHost()\n          lastSent.nodeType = request.params.nodeType = this.getNodeType()\n          lastSent.nodeTypeString = request.params.nodeTypeString = this.getNodeTypeString()\n        }\n      }\n    }\n  })\n\nmodule.exports = ResourceTransform\n","var Emitter = require('../../../emitter')\nvar Log = require('../../../log')\nvar YBRequest = require('../../request')\n\nvar CdnParser = Emitter.extend(\n  /** @lends CdnParser.prototype */\n  {\n    /**\n     * This class helps ResourceTransform parse CDN Nodes.\n     *\n     * @constructs CdnParser\n     * @extends Emitter\n     * @memberof youbora\n     */\n    constructor: function (options) {\n      this._options = Object.assign({\n        cdnName: null,\n        parsers: [],\n        requestHeaders: {},\n        parseType: function () { return 0 }\n      }, options)\n\n      this._responses = {}\n    },\n\n    /**\n     * Emits DONE event\n     */\n    done: function () {\n      this.emit(CdnParser.Event.DONE)\n    },\n\n    addParser: function (parser) {\n      this._options.parsers.push(parser)\n      return this\n    },\n\n    setCdnName: function (name) {\n      this._options.cdnName = name\n      return this\n    },\n\n    setRequestHeader: function (key, value) {\n      this._options.requestHeaders[key] = value\n      return this\n    },\n\n    setParseType: function (parser) {\n      this._options.parseType = parser\n      return this\n    },\n\n    getCdnName: function () {\n      return this._cdnName\n    },\n\n    getNodeHost: function () {\n      return this._cdnNodeHost\n    },\n\n    getNodeTypeString: function () {\n      return this._cdnNodeTypeString\n    },\n\n    getNodeType: function () {\n      return this._cdnNodeType\n    },\n\n    getResponses: function () {\n      return this._responses\n    },\n\n    /**\n     * Parses given headers to check for matches.\n     */\n    parse: function (url, responses) {\n      this._responses = responses || {}\n      var headerString = JSON.stringify(this._options.requestHeaders)\n      if (this._responses[headerString]) {\n        this._parseResponse(this._responses[headerString])\n      } else {\n        this._requestResponse(url)\n      }\n    },\n\n    _requestResponse: function (url) {\n      var headerString = JSON.stringify(this._options.requestHeaders)\n\n      var request = new YBRequest(url, null, null, {\n        method: 'HEAD',\n        maxRetries: 0,\n        requestHeaders: this._options.requestHeaders\n      })\n\n      request.on(YBRequest.Event.SUCCESS, function (resp) {\n        this._responses[headerString] = resp.getXHR().getAllResponseHeaders()\n        this._parseResponse(this._responses[headerString])\n      }.bind(this))\n\n      request.on(YBRequest.Event.ERROR, function (resp) {\n        this.done()\n      }.bind(this))\n\n      request.send()\n    },\n\n    _parseResponse: function (headers) {\n      this._options.parsers.forEach(function (parser) {\n        headers.split('\\n').forEach(function (line) {\n          var index = line.indexOf(':')\n          if (index !== -1) {\n            var key = line.slice(0, index)\n            if (key === parser.headerName) {\n              this._executeParser(parser, line.slice(index + 1))\n            }\n          }\n        }.bind(this))\n      }.bind(this))\n      this.done()\n    },\n\n    _executeParser: function (parser, value) {\n      try {\n        var matches = parser.regex.exec(value.trim())\n        if (matches !== null) {\n          if (this._options.cdnName) this._cdnName = this._options.cdnName\n          switch (parser.element) {\n            case 'host':\n              this._cdnNodeHost = matches[1]\n              break\n            case 'type':\n              this._cdnNodeTypeString = matches[1]\n              this._cdnNodeType = this._options.parseType(this._cdnNodeTypeString)\n              break\n            case 'host+type':\n              this._cdnNodeHost = matches[1]\n              this._cdnNodeTypeString = matches[2]\n              this._cdnNodeType = this._options.parseType(this._cdnNodeTypeString)\n              break\n            case 'type+host':\n              this._cdnNodeTypeString = matches[1]\n              this._cdnNodeType = this._options.parseType(this._cdnNodeTypeString)\n              this._cdnNodeHost = matches[2]\n              break\n            case 'name':\n              this._cdnName = matches[1].toUpperCase()\n              break\n          }\n        }\n      } catch (err) {\n        Log.warn('CDN parsing for ' + this._options.cdnName +\n          ' could not parse header value ' + value)\n      }\n    }\n\n  },\n\n  /** @lends CdnParser */\n  {\n    // Static members\n\n    /**\n     * List of events that could be fired from this class.\n     * @enum\n     */\n    Event: {\n      /** Notifies that this CdnParser is done processing. */\n      DONE: 'done'\n    },\n\n    // Static members\n    _cdns: {\n      Level3: {\n        cdnName: 'LEVEL3',\n        parsers: [{\n          element: 'host+type',\n          headerName: 'X-WR-DIAG',\n          regex: /Host:(.+)\\sType:(.+)/\n        }],\n        requestHeaders: {\n          'X-WR-DIAG': 'host'\n        },\n        parseType: function (type) {\n          switch (type) {\n            case 'TCP_HIT':\n            case 'TCP_MEM_HIT':\n            case 'TCP_IMS_HIT':\n              return 1\n            case 'TCP_MISS':\n              return 2\n            default:\n              return 0\n          }\n        }\n      },\n      Cloudfront: {\n        cdnName: 'CLOUDFRT',\n        parsers: [{\n          element: 'host',\n          headerName: 'X-Amz-Cf-Id',\n          regex: /(.+)/\n        }, {\n          element: 'type',\n          headerName: 'X-Cache',\n          regex: /(\\S+)\\s.+/\n        }],\n        parseType: function (type) {\n          switch (type) {\n            case 'Hit':\n              return 1\n            case 'Miss':\n              return 2\n            default:\n              return 0\n          }\n        }\n      },\n      Akamai: {\n        cdnName: 'AKAMAI',\n        parsers: [{\n          element: 'type+host',\n          headerName: 'X-Cache',\n          regex: /(.+)\\sfrom\\s.+\\(.+\\/(.+)\\).*/\n        }],\n        parseType: function (type) {\n          switch (type) {\n            case 'TCP_HIT':\n              return 1\n            case 'TCP_MISS':\n              return 2\n            default:\n              return 0\n          }\n        }\n      },\n      Highwinds: {\n        cdnName: 'HIGHNEGR',\n        parsers: [{\n          element: 'host+type',\n          headerName: 'X-HW',\n          regex: /.+,[0-9]+\\.(.+)\\.(.+)/\n        }],\n        parseType: function (type) {\n          switch (type) {\n            case 'c':\n            case 'x':\n              return 1\n            default:\n              return 2\n          }\n        }\n      },\n      Fastly: {\n        cdnName: 'FASTLY',\n        parsers: [{\n          element: 'host',\n          headerName: 'X-Served-By',\n          regex: /([^,\\s]+)$/\n        }, {\n          element: 'type',\n          headerName: 'X-Cache',\n          regex: /([^,\\s]+)$/\n        }],\n        parseType: function (type) {\n          switch (type) {\n            case 'HIT':\n              return 1\n            case 'MISS':\n              return 2\n            default:\n              return 0\n          }\n        }\n      },\n      Balancer: {\n        parsers: [{\n          element: 'name',\n          headerName: null,\n          regex: /(.+)/\n        }]\n      }\n    },\n\n    setBalancerHeaderName: function (name) {\n      CdnParser._cdns.Balancer.parsers[0].headerName = name\n    },\n\n    create: function (key) {\n      if (CdnParser._cdns[key]) {\n        return new CdnParser(CdnParser._cdns[key])\n      } else {\n        Log.warn('Tried to create an unexisting CdnParser named ' + key)\n      }\n    },\n\n    add: function (key, parser) {\n      CdnParser._cdns[key] = parser\n    }\n  }\n)\n\nmodule.exports = CdnParser\n","var YBRequest = require('../../request')\nvar Emitter = require('../../../emitter')\nvar Log = require('../../../log')\n\nvar HlsParser = Emitter.extend(\n  /** @lends HlsParser.prototype */\n  {\n    /**\n     * Extend this class to implement your own ResourceEmitter parser task.\n     *\n     * @constructs HlsParser\n     * @extends Emitter\n     * @memberof youbora\n     * @abstract\n     */\n    constructor: function () {\n      this._realResource = null\n    },\n\n    /**\n     * Emits DONE event\n     */\n    done: function () {\n      this.emit(HlsParser.Event.DONE)\n    },\n\n    /**\n     *\n     *\n     * @param {string} resource Either the resource url or the manifest body.\n     * @param {string} parentResource Parent resource in case relative paths are sent.\n     */\n    parse: function (resource, parentResource) {\n      parentResource = parentResource || ''\n\n      try {\n        var matches = /((\\S*?)(\\.m3u8|\\.m3u|\\.ts|\\.mp4)(\\?\\S*|\\n|\\r|$))/i.exec(resource)\n      } catch (err) {\n        Log.warn('Parse HLS Regex failed', err)\n        this.done()\n      }\n\n      if (matches !== null) { // get first line ending in .m3u8, .m3u, .mp4 or .ts\n        var res = matches[1].trim()\n\n        var index = parentResource.lastIndexOf('/')\n        if (res.indexOf('http') !== 0 && index !== -1) {\n          // If does not start with http, add parentResource relative route.\n          res = parentResource.slice(0, index) + '/' + res\n        }\n\n        if (matches[3] === '.m3u8' || matches[3] === '.m3u') { // It is m3u8 or m3u...\n          var request = new YBRequest(res, null, null, { cache: true })\n\n          request.on(YBRequest.Event.SUCCESS, function (resp) {\n            this.parse(resp.getXHR().responseText, matches[2])\n          }.bind(this))\n\n          request.on(YBRequest.Event.ERROR, function (resp) {\n            this.done()\n          }.bind(this))\n\n          request.send()\n        } else { // It is mp4 or ts...\n          this._realResource = res\n          this.done()\n        }\n      } else {\n        this.done()\n      }\n    },\n\n    getResource: function () {\n      return this._realResource\n    }\n  },\n\n  /** @lends HlsParser */\n  {\n    // Static members\n\n    /**\n     * List of events that could be fired from this class.\n     * @enum\n     */\n    Event: {\n      /** Notifies that this HlsParser is done processing. */\n      DONE: 'done'\n    }\n  }\n)\n\nmodule.exports = HlsParser\n","var Emitter = require('../../emitter')\n\nvar Transform = Emitter.extend(\n  /** @lends Transform.prototype */\n\n  /**\n   * Transform classes among youbora helps the library parse and work with data.\n   * ResourceTransform, ViewTransform... all extend from this class.\n   *\n   * @constructs Transform\n   * @extends Emitter\n   * @memberof youbora\n   * @abstract\n   */\n  {\n    constructor: function () {\n      this._isBusy = true\n    },\n\n    /**\n     * Override this method to transform info.\n     *\n     * @param {YBRequest} request Request to transform.\n     */\n    parse: function (request) { },\n\n    /**\n     * Returns if transform is blocking.\n     *\n     * @param {YBRequest} request Request to transform.\n     * @return {bool} True if queue shall be blocked.\n     */\n    isBlocking: function (request) {\n      return this._isBusy\n    },\n\n    /**\n     * Emits DONE event\n     */\n    done: function () {\n      this._isBusy = false\n      this.emit(Transform.Event.DONE)\n    }\n  },\n\n  /** @lends Transform */\n  {\n    // Static members\n\n    /**\n     * List of events that could be fired from this class.\n     * @enum\n     */\n    Event: {\n      /** Notifies that this Transform is done processing. */\n      DONE: 'done'\n    }\n  }\n)\n\nmodule.exports = Transform\n","var YBRequest = require('../request')\nvar Transform = require('./transform')\nvar Log = require('../../log')\nvar Util = require('../../util')\nvar Constants = require('../../constants')\n\nvar ViewTransform = Transform.extend(\n  /** @lends ViewTransform.prototype */\n  {\n    /**\n     * This class manages Fastdata service and view index.\n     *\n     * @constructs\n     * @extends Transform\n     * @memberof youbora\n     *\n     * @param {Plugin} plugin Instance of {@link Plugin}\n     */\n    constructor: function (plugin) {\n      Transform.prototype.constructor.apply(this, arguments)\n\n      /** /data response */\n      this.response = {}\n\n      this._viewIndex = -1\n\n      var service = Constants.Service.DATA\n      var params = {\n        apiVersion: 'v6,v7',\n        outputformat: 'jsonp'\n      }\n\n      params = plugin.requestBuilder.buildParams(params, service)\n      if (params !== null) {\n        Log.notice(service + ' ' + params.system)\n        if (params.system === 'nicetest') {\n          Log.error(\n            'No accountCode has been set. Please set your accountCode inside plugin\\'s options.'\n          )\n        }\n\n        this._request = new YBRequest(plugin.getHost(), service, params)\n      }\n    },\n\n    /**\n     * Sends initial request\n     */\n    init: function () {\n      this._request\n        .on(YBRequest.Event.SUCCESS, this._receiveData.bind(this))\n        .on(YBRequest.Event.ERROR, this._failedData.bind(this))\n        .send()\n    },\n\n    _receiveData: function (req, e) {\n      try {\n        var msg = req.getXHR().response\n        var resp = JSON.parse(msg.slice(msg.indexOf('(') + 1, msg.lastIndexOf(')')))\n\n        this.response.host = Util.addProtocol(resp.q.h)\n        this.response.code = resp.q.c\n        this.response.pingTime = resp.q.pt\n\n        this.done()\n      } catch (err) {\n        Log.error('Fastdata response is invalid.')\n      }\n    },\n\n    _failedData: function (req, e) {\n      Log.error('Fastdata request failed.')\n    },\n\n    /**\n     * Call this method when a new content begins, it will increment the view index (_0, _1, _2...)\n     * @return {string} new viewcode\n     */\n    nextView: function () {\n      this._viewIndex += 1\n      return this.getViewCode()\n    },\n\n    /**\n     * Returns current viewcode\n     * @return {string} viewcode\n     */\n    getViewCode: function () {\n      return this.response.code + '_' + this._viewIndex\n    },\n\n    /**\n     * Transform requests\n     * @param {youbora.comm.YBRequest} request YBRequest to transform.\n     */\n    parse: function (request) {\n      request.host = request.host || this.response.host\n      request.params.code = request.params.code || this.getViewCode()\n      if (request.service === Constants.Service.PING ||\n        request.service === Constants.Service.START) {\n        request.params.pingTime = request.params.pingTime || this.response.pingTime\n      }\n    }\n  })\n\nmodule.exports = ViewTransform\n","/**\n * This static class englobes youbora constants.\n * @class\n * @static\n * @memberof youbora\n */\nvar Constants = {\n  /**\n * List of youbora services.\n * @enum\n */\n  Service: {\n    DATA: '/data',\n    INIT: '/init',\n    START: '/start',\n    JOIN: '/joinTime',\n    PAUSE: '/pause',\n    RESUME: '/resume',\n    SEEK: '/seek',\n    BUFFER: '/bufferUnderrun',\n    ERROR: '/error',\n    STOP: '/stop',\n    PING: '/ping',\n    AD_START: '/adStart',\n    AD_JOIN: '/adJoin',\n    AD_PAUSE: '/adPause',\n    AD_RESUME: '/adResume',\n    AD_BUFFER: '/adBufferUnerrun',\n    AD_STOP: '/adStop'\n  }\n}\n\nmodule.exports = Constants\n","var YouboraObject = require('./object')\n\n/**\n * This class extends YouboraObject, adding event emitting/listening functionalities.\n * @constructs Emitter\n * @extends YouboraObject\n * @memberof youbora\n */\nvar Emitter = YouboraObject.extend(\n  /** @lends Emitter.prototype */\n  {\n    /**\n     * Sets a listener to a given event. Use {@link emit} to trigger those events.\n     * Pass '*' to listen ALL events.\n     * @param {string} event Name of the event.\n     * @param {function} callback Callback of the event. Receives event and data.\n     * @return this\n     */\n    on: function (event, callback) {\n      this._listeners = this._listeners || {}\n      if (typeof callback === 'function') {\n        this._listeners[event] = this._listeners[event] || []\n        this._listeners[event].push(callback)\n        return this\n      }\n    },\n\n    /**\n     * Removes given callback from the listeners of this object.\n     * @param {string} event Name of the event.\n     * @param {function} callback Callback of the event.\n     * @return this\n     */\n    off: function (event, callback) {\n      this._listeners = this._listeners || {}\n\n      if (this._listeners[event]) {\n        var index = this._listeners[event].indexOf(callback)\n        if (index !== -1) {\n          this._listeners[event].splice(index, 1)\n        }\n      }\n      return this\n    },\n\n    /**\n     * Emits given event, triggering all the associated callbacks.\n     * @param {string} event Name of the event.\n     * @param {object} [data] Custom data to be sent to the callbacks.\n     * @return this\n     */\n    emit: function (event, data) {\n      this._listeners = this._listeners || {}\n      data = data || {}\n\n      if (Array.isArray(this._listeners[event])) {\n        this._listeners[event].forEach(this._eachCallback.bind(this, event, data))\n      }\n      if (Array.isArray(this._listeners['*'])) {\n        this._listeners['*'].forEach(this._eachCallback.bind(this, event, data))\n      }\n\n      return this\n    },\n\n    _eachCallback: function (event, data, callback) {\n      if (typeof callback === 'function') {\n        callback({ type: event, data: data, target: this })\n      }\n    }\n  }\n)\n\nmodule.exports = Emitter\n","var Emitter = require('./emitter')\n\n/**\n * Static Log class for YouboraLib\n *\n * @class\n * @static\n * @memberof youbora\n */\nvar Log = {\n\n  _emitter: new Emitter(),\n\n  /** Exposes {@link youbora.EvenfulObject.on} */\n  on: function () { Log._emitter.on.apply(Log._emitter, arguments) },\n  /** Exposes {@link youbora.EvenfulObject.off} */\n  off: function () { Log._emitter.off.apply(Log._emitter, arguments) },\n  /** Exposes {@link youbora.EvenfulObject.emit} */\n  emit: function () { Log._emitter.emit.apply(Log._emitter, arguments) },\n\n  /**\n   * Enum for log levels\n   * @enum\n   */\n  Level: {\n    /** No console outputs */\n    SILENT: 6,\n    /** Console will show errors */\n    ERROR: 5,\n    /** Console will show warnings */\n    WARNING: 4,\n    /** Console will show notices (ie: life-cyrcle logs) */\n    NOTICE: 3,\n    /** Console will show debug messages (ie: player events) */\n    DEBUG: 2,\n    /** Console will show verbose messages (ie: Http Requests) */\n    VERBOSE: 1\n  },\n\n  /**\n   * Enum for events\n   * @enum\n   */\n  Event: {\n    /** Sent each time a messaged is issued, even if log level does not handle it. */\n    LOG: 'log'\n  },\n\n  /**\n   * Only logs of this imporance or higher will be shown.\n   * @default youbora.Log.Levels.ERROR\n   * @see {@link youbora.Log.Levels}\n   */\n  logLevel: 5,\n\n  /**\n   * If true, console logs will always be outputed without colors (for debbugin in devices).\n   * @default false\n   */\n  plainLogs: false,\n\n  /**\n   * Returns a console message\n   *\n   * @private\n   * @param {(string|error|array)} msg Message string, error object or array of messages.\n   * @param {Log.Levels} [level=Log.Levels.NOTICE] Defines the level of the error sent.\n   * Only errors with higher or equal level than Log.logLevel will be displayed.\n   * @param {string} [color=darkcyan] Color of the header\n   * @see {@link Youbora.Log.debugLevel}\n   */\n  report: function (msg, level, color) {\n    if (console && console.log) {\n      level = level || Log.Level.NOTICE\n      color = color || 'darkcyan'\n\n      var letters = {\n        5: 'e', // Error\n        4: 'w', // Warning\n        3: 'n', // Notice\n        2: 'd', // Debug\n        1: 'v' // Verbose\n      }\n\n      var letter = letters[level]\n      var prefix = '[Youbora]' + Log._getCurrentTime() + ' ' + letter + ':'\n\n      this.emit('log', { level: level, msg: msg, prefix: prefix })\n\n      // Show messages in actual console if level is enought\n      if (Log.logLevel <= level) {\n        if (Log.plainLogs || document.documentMode) { // document.documentMode exits only in IE\n          // Plain log for IE and devices\n          Log._plainReport(msg, prefix)\n        } else {\n          // choose log method\n          var logMethod\n          if (level === Log.Level.ERROR && console.error) {\n            logMethod = console.error\n          } else if (level === Log.Level.WARNING && console.warn) {\n            logMethod = console.warn\n          } else if (level === Log.Level.DEBUG && console.debug) {\n            logMethod = console.debug\n          } else {\n            logMethod = console.log\n          }\n\n          // print message\n          prefix = '%c' + prefix\n          if (msg instanceof Array) {\n            msg.splice(0, 0, prefix, 'color: ' + color)\n            logMethod.apply(console, msg)\n          } else {\n            logMethod.call(console, prefix, 'color: ' + color, msg)\n          }\n        }\n      }\n    }\n  },\n\n  /**\n   * Returns the current time in format hh:mm:ss.mmm (with trailing 0s)\n   * @private\n   * @return {string} Current time.\n   */\n  _getCurrentTime: function () {\n    var d = new Date()\n    var hh = ('0' + d.getDate()).slice(-2)\n    var mm = ('0' + d.getMinutes()).slice(-2)\n    var ss = ('0' + d.getSeconds()).slice(-2)\n    var mmm = ('00' + d.getMilliseconds()).slice(-3)\n    return '[' + hh + ':' + mm + ':' + ss + '.' + mmm + ']'\n  },\n\n  /**\n   * Returns a console message without style\n   *\n   * @private\n   * @param {(string|object|array)} msg Message string, object or array of messages.\n   * @param {string} prefix Prefix of the message.\n   */\n  _plainReport: function (msg, prefix) {\n    if (msg instanceof Array) {\n      for (var m in msg) {\n        Log._plainReport(msg[m], prefix)\n      }\n    } else {\n      if (typeof msg === 'string') {\n        console.log(prefix + ' ' + msg)\n      } else {\n        console.log(prefix + ' <next line>')\n        console.log(msg)\n      }\n    }\n  },\n\n  /**\n   * Sends an error (level 1) console log.\n   * Supports unlimited arguments: (\"this\", \"is\", \"a\", \"message\")\n   * @memberof $YB\n   * @see {@link $YB.report}\n   */\n  error: function () {\n    Log.report([].slice.call(arguments), Log.Level.ERROR, 'darkred')\n  },\n\n  /**\n   * Sends a warning (level 2) console log.\n   * Supports unlimited arguments: (\"this\", \"is\", \"a\", \"message\")\n   * @memberof $YB\n   * @see {@link $YB.report}\n   */\n  warn: function () {\n    Log.report([].slice.call(arguments), Log.Level.WARNING, 'darkorange')\n  },\n\n  /**\n   * Sends a notice (level 3) console log.\n   * Supports unlimited arguments: (\"this\", \"is\", \"a\", \"message\")\n   * @memberof $YB\n   * @see {@link $YB.report}\n   */\n  notice: function () {\n    Log.report([].slice.call(arguments), Log.Level.NOTICE, 'darkgreen')\n  },\n\n  /**\n   * Sends a debug message (level 4) to console.\n   * Supports unlimited arguments: (\"this\", \"is\", \"a\", \"message\")\n   * @memberof $YB\n   * @see {@link $YB.report}\n   */\n  debug: function () {\n    Log.report([].slice.call(arguments), Log.Level.DEBUG, 'indigo')\n  },\n\n  /**\n   * Sends a verbose message (level 5) to console.\n   * Supports unlimited arguments: (\"this\", \"is\", \"a\", \"message\")\n   * @memberof $YB\n   * @see {@link $YB.report}\n   */\n  verbose: function () {\n    Log.report([].slice.call(arguments), Log.Level.VERBOSE, 'navy')\n  },\n\n  /**\n   * This function is automatically executed at youboralib's init.\n   * Will search inside window.location.search for attribute 'youbora-debug=X'.\n   * X can have one of these values, that will modify LogLevel.\n   * 6: SILENT,\n   * 5: ERROR,\n   * 4: WARNING,\n   * 3: NOTICE,\n   * 2: DEBUG,\n   * 1: VERBOSE\n   *\n   * If youbora-console=plain is present, plainLogs will be set to true.\n   */\n  loadLevelFromUrl: function () {\n    if (typeof window !== 'undefined' && window.location && window.location.search) {\n      var m = /\\?.*&*youbora-debug=(.+)/i.exec(window.location.search)\n      if (m !== null) {\n        Log.logLevel = m[1]\n      }\n\n      var m2 = /\\?.*&*youbora-debug=plain/i.exec(window.location.search)\n      if (m2 !== null) {\n        Log.plainLogs = true\n      }\n    }\n  }\n}\n\nmodule.exports = Log\n","var YouboraObject = function () {}\n\nYouboraObject.prototype = {\n  /**\n   * A base class that other Classes should inherit from.\n   * It has a no-op constructor intended to be overridden by classes that extend from this.\n   *\n   * @constructs YouboraObject\n   * @abstract\n   * @memberof youbora\n   */\n  constructor: function () {}\n}\n\n/**\n * This static method allows the extension of the current class, emulating 1-level inheritance.\n * Also add a helper __super__ object poiting to the parent prototypes methods\n * @see https://github.com/SBoudrias/class-extend\n * @example\n * var A = YouboraObject.extend({ a: 1, b: 1, c: { d: 0 } });\n * var a = new A(); // { a: 1, b: 1, c: { d: 0 } }\n *\n * var B = A.extend({ b: 2, c: { e: 3 } });\n * var b = new B(); // { a: 1, b: 2, c: { e: 3 } }\n *\n * @param  {Object} protoProps  Prototype properties (available on the instances)\n * @param  {Object} staticProps Static properties (available on the contructor)\n * @return {Object}             New sub class\n */\nYouboraObject.extend = function (protoProps, staticProps) {\n  var parent = this\n  var NewClass\n\n  // The constructor function for the new subclass is either defined by you\n  // (the \"constructor\" property in your `extend` definition), or defaulted\n  // by us to simply call the parent's constructor.\n  if (protoProps && Object.prototype.hasOwnProperty.call(protoProps, 'constructor')) {\n    NewClass = protoProps.constructor\n  } else {\n    NewClass = function () { return parent.apply(this, arguments) }\n  }\n\n  // Add static properties to the constructor function, if supplied.\n  Object.assign(NewClass, parent, staticProps)\n\n  // Set the prototype chain to inherit from `parent`\n  NewClass.prototype = Object.create(parent.prototype, {\n    constructor: {\n      value: NewClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  })\n\n  // Add prototype properties (instance properties) to the subclass,\n  // if supplied.\n  if (protoProps) Object.assign(NewClass.prototype, protoProps)\n\n  // Set a convenience property in case the parent's prototype is needed\n  // later.\n  NewClass.__super__ = parent.prototype\n\n  return NewClass\n}\n\nmodule.exports = YouboraObject\n","var YouboraObject = require('../object')\nvar Log = require('../log')\n\nvar Options = YouboraObject.extend(\n  /** @lends Options.prototype */\n  {\n    /**\n     * This Class store youbora configuration settings.\n     * @constructs Options\n     * @param {Object|Options} [options] A literal containing values.\n     * @extends YouboraObject\n     * @memberof youbora\n     */\n    constructor: function (options) {\n      /** @prop {boolean} [enabled=true] If false, the plugin won't send NQS requests. */\n      this['enabled'] = true\n\n      /**\n       * @prop {boolean} [httpSecure=null]\n       * Define the security of NQS calls.\n       * If true it will use 'https://',\n       * if false it will use 'http://',\n       * if null it will use '//'.\n       */\n      this['httpSecure'] = null\n\n      /** @prop {string} [host='nqs.nice264.com'] Host of the Fastdata service. */\n      this['host'] = 'nqs.nice264.com'\n\n      /**\n       * @prop {string} [accountCode='nicetest']\n       * NicePeopleAtWork account code that indicates the customer account.\n       */\n      this['accountCode'] = 'nicetest'\n\n      /** @prop {string} [username] User ID value inside your system. */\n      this['username'] = null\n\n      // PARSERS\n\n      /**\n       * @prop {boolean} [parse.Hls=false]\n       * If true the plugin will parse HLS files to use the first .ts file found as resource.\n       * It might slow performance down.\n       */\n      this['parse.Hls'] = false\n\n      /**\n       * @prop {string} [parse.CdnNameHeader]\n       * If defined, resource parse will try to fetch the CDN code from the custom header defined\n       * by this property. ie: 'x-cdn-forward'\n       */\n      this['parse.CdnNameHeader'] = 'x-cdn-forward'\n\n      /**\n       * @prop {boolean} [parse.CdnNode.enabled=false]\n       * If true the plugin will query the CDN to retrieve the node name.\n       * It might slow performance down.\n       */\n      this['parse.CdnNode'] = false\n\n      /**\n       * @prop {array<string>} [parse.CdnNode.list=false]\n       * If true the plugin will query the CDN to retrieve the node name.\n       * It might slow performance down.\n       */\n      this['parse.CdnNode.list'] = ['Akamai', 'Cloudfront', 'Level3', 'Fastly', 'Highwinds']\n\n      // NETWORK\n\n      /** @prop {string} [network.ip] IP of the viewer/user. ie= '100.100.100.100'. */\n      this['network.ip'] = null\n\n      /** @prop {string} [network.isp] Name of the internet service provider of the viewer/user. */\n      this['network.isp'] = null\n\n      /**\n       * @prop {string} [network.connectionType]\n       * See a list of codes in {@link http://mapi.youbora.com:8081/connectionTypes}\n       */\n      this['network.connectionType'] = null\n\n      // DEVICE\n\n      /**\n       * @prop {string} [device.code]\n       * Youbora's device code. If specified it will rewrite info gotten from user agent.\n       * See a list of codes in {@link http://mapi.youbora.com:8081/devices}\n       */\n      this['device.code'] = null\n\n      // CONTENT\n\n      /** @prop {string} [content.transactionCode] Custom unique code to identify the view. */\n      this['content.transactionCode'] = null\n\n      /** @prop {string} [content.resource] URL/path of the current media resource. */\n      this['content.resource'] = null\n\n      /** @prop {boolean} [content.isLive] True if the content is live false if VOD. */\n      this['content.isLive'] = null\n\n      /** @prop {string} [content.title] Title of the media. */\n      this['content.title'] = null\n\n      /** @prop {string} [content.title2] Secondary title of the media. */\n      this['content.title2'] = null\n\n      /** @prop {number} [content.duration] Duration of the media. */\n      this['content.duration'] = null\n\n      /** @prop {int} {content.fps] Frames per second of the content in the current moment. */\n      this['content.fps'] = null\n\n      /** @prop {int} {content.bitrate] Bitrate of the content in bits per second. */\n      this['content.bitrate'] = null\n\n      /** @prop {int} {content.throughput] Throughput of the client bandwith in bits per second. */\n      this['content.throughput'] = null\n\n      /** @prop {string} {content.rendition] Name of the current rendition of the content. */\n      this['content.rendition'] = null\n\n      /**\n       * @prop {string} [content.cdn]\n       * Codename of the CDN where the content is streaming from.\n       * See a list of codes in {@link http://mapi.youbora.com:8081/cdns}\n       * */\n      this['content.cdn'] = null\n\n      /**\n       * @prop {object} [content.metadata={}]\n       * Item containing mixed extra information about the content like: director, parental rating,\n       * device info or the audio channels.This object may store any serializable key:value info.\n       */\n      this['content.metadata'] = {}\n\n      // ADS\n\n      /**\n       * @prop {object} [ad.metadata={}]\n       * Item containing mixed extra information about ads like: campaign name or request url.\n       * This object may store any serializable key:value info.\n       */\n      this['ad.metadata'] = {}\n\n      // EXTRAPARAMS\n\n      /** @prop {string} [extraparam.1] Custom parameter 1. */\n      this['extraparam.1'] = null\n\n      /** @prop {string} [extraparam.2] Custom parameter 2. */\n      this['extraparam.2'] = null\n\n      /** @prop {string} [extraparam.3] Custom parameter 3. */\n      this['extraparam.3'] = null\n\n      /** @prop {string} [extraparam.4] Custom parameter 4. */\n      this['extraparam.4'] = null\n\n      /** @prop {string} [extraparam.5] Custom parameter 5. */\n      this['extraparam.5'] = null\n\n      /** @prop {string} [extraparam.6] Custom parameter 6. */\n      this['extraparam.6'] = null\n\n      /** @prop {string} [extraparam.7] Custom parameter 7. */\n      this['extraparam.7'] = null\n\n      /** @prop {string} [extraparam.8] Custom parameter 8. */\n      this['extraparam.8'] = null\n\n      /** @prop {string} [extraparam.9] Custom parameter 9. */\n      this['extraparam.9'] = null\n\n      /** @prop {string} [extraparam.10] Custom parameter 10. */\n      this['extraparam.10'] = null\n\n      this.setOptions(options)\n    },\n\n    /**\n     * Recursively sets the properties present in the params object.\n     * ie: this.username = params.username.\n     *\n     * @param {Object} options A literal or another Data containing values.\n     * @param {Object} [base=this] Start point for recursion.\n     */\n    setOptions: function (options, base) {\n      try {\n        base = base || this\n        if (typeof options !== 'undefined') {\n          for (var key in options) {\n            if (typeof base[key] === 'object' && base[key] !== null) {\n              this.setOptions(options[key], base[key])\n            } else {\n              base[key] = options[key]\n            }\n          }\n        }\n      } catch (err) {\n        Log.error(err)\n      }\n    }\n  }\n)\n\nmodule.exports = Options\n","var Emitter = require('../emitter')\nvar Timer = require('../timer')\nvar Log = require('../log')\nvar Util = require('../util')\nvar Chrono = require('../chrono')\nvar version = require('../version')\nvar Constants = require('../constants')\n\nvar YBRequest = require('../comm/request')\nvar Communication = require('../comm/communication')\nvar FlowTransform = require('../comm/transform/flow')\nvar ViewTransform = require('../comm/transform/view')\nvar Nqs6Transform = require('../comm/transform/nqs6')\nvar ResourceTransform = require('../comm/transform/resource')\n\nvar Options = require('./options')\nvar RequestBuilder = require('./requestbuilder')\n\nvar Adapter = require('../adapter/adapter')\n\nvar Plugin = Emitter.extend(\n  /** @lends Plugin.prototype */\n  {\n    /**\n     * This is the main class of video analytics. You may want one instance for each video you want\n     * to track. Will need adapters for both content and ads, manage options and general flow.\n     *\n     * @constructs Plugin\n     * @extends Emitter\n     * @memberof youbora\n     *\n     * @param {Options} [options] An object complying with {@link Options} constructor.\n     * @param {Adapter} [adapter] If an adapter is provided, setAdapter will be immediately called.\n     */\n    constructor: function (options, adapter) {\n      /** This flags indicates that /init has been called. */\n      this.isInitiated = false\n\n      /** This flags indicate that the content is preloading. */\n      this.isPreloading = false\n\n      /** Chrono for preload times. */\n      this.preloadChrono = new Chrono()\n\n      /** Chrono for init to join time. */\n      this.initChrono = new Chrono()\n\n      this.options = new Options(options)\n      this._adapter = null\n      this._adsAdapter = null\n      this._ping = this._ping = new Timer(this._sendPing.bind(this), 5000)\n\n      this.requestBuilder = new RequestBuilder(this)\n\n      this.resourceTransform = new ResourceTransform(this)\n\n      // FastData\n      this.viewTransform = new ViewTransform(this)\n      this.viewTransform.on(ViewTransform.Event.DONE, function (e) {\n        this._ping.interval = e.target.response.pingTime * 1000\n      }.bind(this))\n\n      if (adapter) this.setAdapter(adapter)\n\n      this.viewTransform.init()\n    },\n\n    /**\n     * Reset all variables and stop all timers\n     */\n    _reset: function () {\n      this._stopPings()\n      this.resourceTransform = new ResourceTransform(this)\n\n      this.isInitiated = false\n      this.isPreloading = false\n      this.initChrono.reset()\n      this.preloadChrono.reset()\n    },\n\n    // ----------------------------------------- Options ------------------------------------------\n\n    /**\n     * Modifies current options. See {@link Options.setOptions}.\n     *\n     * @param {any} options\n     */\n    setOptions: function (options) {\n      this.options.setOptions(options)\n    },\n\n    // ----------------------------------------- Adapters -----------------------------------------\n\n    /**\n     * Sets an adapter for video content.\n     *\n     * @param {Adapter} adapter\n     */\n    setAdapter: function (adapter) {\n      if (adapter.plugin) {\n        Log.warn('Adapters can only be added to a single plugin')\n      } else {\n        this.removeAdapter()\n\n        this._adapter = adapter\n        adapter.plugin = this\n\n        // Register listeners\n        adapter.on(Adapter.Event.START, this._startListener.bind(this))\n        adapter.on(Adapter.Event.JOIN, this._joinListener.bind(this))\n        adapter.on(Adapter.Event.PAUSE, this._pauseListener.bind(this))\n        adapter.on(Adapter.Event.RESUME, this._resumeListener.bind(this))\n        adapter.on(Adapter.Event.SEEK_BEGIN, this._seekBeginListener.bind(this))\n        adapter.on(Adapter.Event.SEEK_END, this._seekEndListener.bind(this))\n        adapter.on(Adapter.Event.BUFFER_BEGIN, this._bufferBeginListener.bind(this))\n        adapter.on(Adapter.Event.BUFFER_END, this._bufferEndListener.bind(this))\n        adapter.on(Adapter.Event.ERROR, this._errorListener.bind(this))\n        adapter.on(Adapter.Event.STOP, this._stopListener.bind(this))\n      }\n    },\n\n    /**\n     * Returns current adapter or null.\n     *\n     * @returns {Adapter}\n     */\n    getAdapter: function () {\n      return this._adapter\n    },\n\n    /** Removes the current adapter. Fires stop if needed. Calls adapter.dispose() */\n    removeAdapter: function () {\n      if (this._adapter) {\n        this._adapter.dispose()\n\n        this._adapter.plugin = null\n\n        this._adapter.off(Adapter.Event.START, this._startListener)\n        this._adapter.off(Adapter.Event.JOIN, this._joinListener)\n        this._adapter.off(Adapter.Event.PAUSE, this._pauseListener)\n        this._adapter.off(Adapter.Event.RESUME, this._resumeListener)\n        this._adapter.off(Adapter.Event.SEEK_BEGIN, this._seekBeginListener)\n        this._adapter.off(Adapter.Event.SEEK_END, this._seekEndListener)\n        this._adapter.off(Adapter.Event.BUFFER_BEGIN, this._bufferBeginListener)\n        this._adapter.off(Adapter.Event.BUFFER_END, this._bufferEndListener)\n        this._adapter.off(Adapter.Event.ERROR, this._errorListener)\n        this._adapter.off(Adapter.Event.STOP, this._stopListener)\n\n        this._adapter = null\n      }\n    },\n\n    /**\n     * Sets an adapter for ads.\n     *\n     * @param {Adapter} adsAdapter\n     */\n    setAdsAdapter: function (adsAdapter) {\n      if (adsAdapter.plugin) {\n        Log.warn('Adapters can only be added to a single plugin')\n      } else {\n        this.removeAdsAdapter()\n\n        adsAdapter.plugin = this\n        this._adsAdapter = adsAdapter\n\n        adsAdapter.on(Adapter.Event.START, this._adStartListener.bind(this))\n        adsAdapter.on(Adapter.Event.JOIN, this._adJoinListener.bind(this))\n        adsAdapter.on(Adapter.Event.PAUSE, this._adPauseListener.bind(this))\n        adsAdapter.on(Adapter.Event.RESUME, this._adResumeListener.bind(this))\n        adsAdapter.on(Adapter.Event.BUFFER_BEGIN, this._adBufferBeginListener.bind(this))\n        adsAdapter.on(Adapter.Event.BUFFER_END, this._adBufferEndListener.bind(this))\n        adsAdapter.on(Adapter.Event.STOP, this._adStopListener.bind(this))\n      }\n    },\n\n    /**\n     * Returns current adapter or null.\n     *\n     * @returns {Adapter}\n     */\n    getAdsAdapter: function () {\n      return this._adsAdapter\n    },\n\n    /** Removes the current adapter. Fires stop if needed. Calls adapter.dispose() */\n    removeAdsAdapter: function () {\n      if (this._adsAdapter) {\n        this._adsAdapter.dispose()\n\n        this._adsAdapter.plugin = null\n\n        this._adsAdapter.off(Adapter.Event.START, this._adStartListener)\n        this._adsAdapter.off(Adapter.Event.JOIN, this._adJoinListener)\n        this._adsAdapter.off(Adapter.Event.PAUSE, this._adPauseListener)\n        this._adsAdapter.off(Adapter.Event.RESUME, this._adResumeListener)\n        this._adsAdapter.off(Adapter.Event.BUFFER_BEGIN, this._adBufferBeginListener)\n        this._adsAdapter.off(Adapter.Event.BUFFER_END, this._adBufferEndListener)\n        this._adsAdapter.off(Adapter.Event.STOP, this._adStopListener)\n\n        this._adsAdapter = null\n      }\n    },\n\n    // ----------------------------------------- DISABLE ------------------------------------------\n\n    /**\n     * Disable request sending.\n     */\n    disable: function () {\n      this.setOptions({ 'enabled': false })\n    },\n\n    /**\n     * Re-enable request sending.\n     */\n    enable: function () {\n      this.setOptions({ 'enabled': true })\n    },\n\n    // ---------------------------------------- LISTENERS -----------------------------------------\n\n    /**\n     * Creates and enqueues related request using {@link Communication#sendRequest}.\n     * It will fire will-send-events.\n     *\n     * @param {string} willSendEvent Name of the will-send event. Use {@link Plugin.Event} enum.\n     * @param {string} service Name of the service. Use {@link Constants.Service} enum.\n     * @param {Object} params Params of the request\n     */\n    _send: function (willSendEvent, service, params) {\n      params = this.requestBuilder.buildParams(params, service)\n\n      var data = {\n        params: params,\n        plugin: this,\n        adapter: this.getAdapter(),\n        adsAdapter: this.getAdsAdapter()\n      }\n\n      this.emit(willSendEvent, data)\n\n      if (this._comm && params !== null && this.options.enabled) {\n        this.lastServeiceSent = service\n        this._comm.sendRequest(new YBRequest(null, service, params))\n      }\n    },\n\n    /**\n     * Initializes comm and its transforms.\n     */\n    _initComm: function () {\n      this.resourceTransform.init(this.getResource())\n\n      this._comm = new Communication()\n      this._comm.addTransform(new FlowTransform())\n      this._comm.addTransform(this.viewTransform)\n      this._comm.addTransform(this.resourceTransform)\n      this._comm.addTransform(new Nqs6Transform())\n    },\n\n    /**\n     * Starts preloading state and chronos.\n     */\n    firePreloadBegin: function () {\n      if (!this.isPreloading) {\n        this.isPreloading = true\n        this.preloadChrono.start()\n      }\n    },\n\n    /**\n     * Ends preloading state and chronos.\n     */\n    firePreloadEnd: function () {\n      if (this.isPreloading) {\n        this.isPreloading = false\n        this.preloadChrono.stop()\n      }\n    },\n\n    /**\n     * Sends /init. Should be called once the user has requested the content. Does not need\n     * a working adapter or player to work. it won't sent start if isInitiated is true.\n     *\n     * @param {Object} [params] Object of key:value params.\n     */\n    fireInit: function (params) {\n      if (!this.isInitiated) {\n        this.viewTransform.nextView()\n        this._initComm()\n        this._startPings()\n\n        this.isInitiated = true\n        this.initChrono.start()\n\n        params = params || {}\n        this._send(Plugin.Event.WILL_SEND_INIT, Constants.Service.INIT, params)\n        Log.notice(Constants.Service.INIT + ' ' + (params.title || params.mediaResource))\n      }\n    },\n\n    _startListener: function (e) {\n      if (!this.isInitiated || this.lastServeiceSent === Constants.Service.ERROR) {\n        this.viewTransform.nextView()\n        this._initComm()\n        this._startPings()\n      }\n\n      var params = e.data.params || {}\n      this._send(Plugin.Event.WILL_SEND_START, Constants.Service.START, params)\n      Log.notice(Constants.Service.START + ' ' + (params.title || params.mediaResource))\n    },\n\n    _joinListener: function (e) {\n      var params = e.data.params || {}\n      if (!this._adsAdapter || !this._adsAdapter.flags.isStarted) {\n        this._send(Plugin.Event.WILL_SEND_JOIN, Constants.Service.JOIN, params)\n        Log.notice(Constants.Service.JOIN + ' ' + params.joinDuration + 'ms')\n      } else {\n        if (this._adapter.monitor) this._adapter.monitor.stop()\n        this._adapter.flags.isJoined = false\n        this._adapter.chronos.join.stopTime = 0\n      }\n    },\n\n    _pauseListener: function (e) {\n      if (this._adapter) {\n        if (this._adapter.flags.isBuffering ||\n          this._adapter.flags.isSeeking ||\n          (this._adsAdapter && this._adsAdapter.flags.isStarted)) {\n          this._adapter.chronos.pause.reset()\n        }\n      }\n\n      var params = e.data.params || {}\n      this._send(Plugin.Event.WILL_SEND_PAUSE, Constants.Service.PAUSE, params)\n      Log.notice(Constants.Service.PAUSE + ' at ' + params.playhead + 's')\n    },\n\n    _resumeListener: function (e) {\n      var params = e.data.params || {}\n      this._send(Plugin.Event.WILL_SEND_RESUME, Constants.Service.RESUME, params)\n      Log.notice(Constants.Service.RESUME + ' ' + params.pauseDuration + 'ms')\n    },\n\n    _seekBeginListener: function (e) {\n      if (this._adapter && this._adapter.flags.isPaused) this._adapter.chronos.pause.reset()\n      Log.notice('Seek Begin')\n    },\n\n    _seekEndListener: function (e) {\n      var params = e.data.params || {}\n      this._send(Plugin.Event.WILL_SEND_SEEK, Constants.Service.SEEK, params)\n      Log.notice(Constants.Service.SEEK +\n        ' to ' + params.playhead +\n        ' in ' + params.seekDuration + 'ms'\n      )\n    },\n\n    _bufferBeginListener: function (e) {\n      if (this._adapter && this._adapter.flags.isPaused) this._adapter.chronos.pause.reset()\n      Log.notice('Buffer Begin')\n    },\n\n    _bufferEndListener: function (e) {\n      var params = e.data.params || {}\n      this._send(Plugin.Event.WILL_SEND_BUFFER, Constants.Service.BUFFER, params)\n      Log.notice(Constants.Service.BUFFER +\n        ' to ' + params.playhead +\n        ' in ' + params.bufferDuration + 'ms'\n      )\n    },\n\n    _errorListener: function (e) {\n      if (!this._comm) this._initComm()\n      var params = e.data.params || {}\n      this._send(Plugin.Event.WILL_SEND_ERROR, Constants.Service.ERROR, params)\n      Log.notice(Constants.Service.ERROR +\n        ' ' + params.errorLevel +\n        ' ' + params.errorCode\n      )\n\n      if (params.errorLevel === 'fatal') this._reset()\n    },\n\n    _stopListener: function (e) {\n      var params = e.data.params || {}\n      this._send(Plugin.Event.WILL_SEND_STOP, Constants.Service.STOP, params)\n      Log.notice(Constants.Service.STOP + ' at ' + params.playhead + 's')\n      this._reset()\n    },\n\n    // Ads\n    _adStartListener: function (e) {\n      if (this._adapter) {\n        this._adapter.fireBufferEnd()\n        this._adapter.fireSeekEnd()\n        if (this._adapter.flags.isPaused) this._adapter.chronos.pause.reset()\n      }\n\n      var params = e.data.params || {}\n      params.adNumber = this.requestBuilder.getNewAdNumber()\n      this._send(Plugin.Event.WILL_SEND_AD_START, Constants.Service.AD_START, params)\n      Log.notice(\n        Constants.Service.AD_START + ' ' +\n        params.adPosition + params.adNumber +\n        ' at ' + params.playhead + 's'\n      )\n    },\n\n    _adJoinListener: function (e) {\n      var params = e.data.params || {}\n      params.adNumber = this.requestBuilder.lastSent.adNumber\n      this._send(Plugin.Event.WILL_SEND_AD_JOIN, Constants.Service.AD_JOIN, params)\n      Log.notice(Constants.Service.AD_JOIN + ' ' + params.adJoinDuration + 'ms')\n    },\n\n    _adPauseListener: function (e) {\n      var params = e.data.params || {}\n      params.adNumber = this.requestBuilder.lastSent.adNumber\n      this._send(Plugin.Event.WILL_SEND_AD_PAUSE, Constants.Service.AD_PAUSE, params)\n      Log.notice(Constants.Service.AD_PAUSE + ' at ' + params.adPlayhead + 's')\n    },\n\n    _adResumeListener: function (e) {\n      var params = e.data.params || {}\n      params.adNumber = this.requestBuilder.lastSent.adNumber\n      this._send(Plugin.Event.WILL_SEND_AD_RESUME, Constants.Service.AD_RESUME, params)\n      Log.notice(Constants.Service.AD_RESUME + ' ' + params.adPauseDuration + 'ms')\n    },\n\n    _adBufferBeginListener: function (e) {\n      Log.notice('Ad Buffer Begin')\n      if (this._adsAdapter && this._adsAdapter.flags.isPaused) {\n        this._adsAdapter.chronos.pause.reset()\n      }\n    },\n\n    _adBufferEndListener: function (e) {\n      var params = e.data.params || {}\n      params.adNumber = this.requestBuilder.lastSent.adNumber\n      this._send(Plugin.Event.WILL_SEND_AD_BUFFER, Constants.Service.AD_BUFFER, params)\n      Log.notice(Constants.Service.AD_BUFFER + ' ' + params.adBufferDuration + 'ms')\n    },\n\n    _adStopListener: function (e) {\n      // remove time from joinDuration\n      if (this._adapter && !this._adapter.flags.isJoined) {\n        this._adapter.chronos.join.startTime = Math.min(\n          this._adapter.chronos.join.startTime + this._adsAdapter.chronos.total.getDeltaTime(),\n          new Date().getTime()\n        )\n      }\n\n      var params = e.data.params || {}\n      params.adNumber = this.requestBuilder.lastSent.adNumber\n      this._send(Plugin.Event.WILL_SEND_AD_STOP, Constants.Service.AD_STOP, params)\n      Log.notice(Constants.Service.AD_STOP + ' ' + params.adTotalDuration + 'ms')\n    },\n\n    // ------------------------------------------ PINGS -------------------------------------------\n\n    /**\n     * Starts sending pings\n     * @private\n     */\n    _startPings: function () {\n      if (!this._ping.isRunning) this._ping.start()\n    },\n\n    /**\n     * Stops sending pings\n     * @private\n     */\n    _stopPings: function () {\n      this._ping.stop()\n    },\n\n    _sendPing: function (diffTime) {\n      var params = {\n        diffTime: diffTime,\n        entities: this.requestBuilder.getChangedEntities()\n      }\n      if (this._adapter) {\n        if (this._adapter.flags.isPaused) {\n          params = this.requestBuilder.fetchParams(params, ['pauseDuration'])\n        } else {\n          params = this.requestBuilder.fetchParams(params, ['bitrate', 'throughput', 'fps'])\n\n          if (this._adsAdapter && this._adsAdapter.flags.isStarted) {\n            params = this.requestBuilder.fetchParams(params, ['adBitrate'])\n          }\n        }\n        if (this._adapter.flags.isBuffering) {\n          params = this.requestBuilder.fetchParams(params, ['bufferDuration'])\n        }\n        if (this._adapter.flags.isSeeking) {\n          params = this.requestBuilder.fetchParams(params, ['seekDuration'])\n        }\n\n        if (this._adsAdapter) {\n          if (this._adsAdapter.flags.isStarted) {\n            params = this.requestBuilder.fetchParams(params, ['adPlayhead'])\n          }\n          if (this._adsAdapter.flags.isBuffering) {\n            params = this.requestBuilder.fetchParams(params, ['adBufferDuration'])\n          }\n        }\n      }\n\n      this._send(Plugin.Event.WILL_SEND_PING, Constants.Service.PING, params)\n      Log.verbose(Constants.Service.PING)\n    },\n\n    // --------------------------------------- INFO GETTERS ---------------------------------------\n\n    /** Returns service host */\n    getHost: function () {\n      return Util.addProtocol(\n        Util.stripProtocol(this.options['host']),\n        this.options['httpSecure'])\n    },\n\n    /** Returns parse HLS Flag */\n    isParseHls: function () {\n      return this.options['parse.Hls']\n    },\n\n    /** Returns parse CdnNode Flag */\n    isParseCdnNode: function () {\n      return this.options['parse.CdnNode']\n    },\n\n    /** Returns Cdn list */\n    getParseCdnNodeList: function () {\n      return this.options['parse.CdnNode.list']\n    },\n\n    /** Returns Cdn header name */\n    getParseCdnNodeNameHeader: function () {\n      return this.options['parse.CdnNameHeader']\n    },\n\n    /** Returns content's playhead */\n    getPlayhead: function () {\n      var ret = 0\n      if (this._adapter) {\n        try {\n          ret = this._adapter.getPlayhead()\n        } catch (err) {\n          Log.warn('An error occurred while calling getPlayhead', err)\n        }\n      }\n      return Util.parseNumber(ret, 0)\n    },\n\n    /** Returns content's PlayRate */\n    getPlayrate: function () {\n      var ret = 0\n      if (this._adapter) {\n        try {\n          ret = this._adapter.getPlayrate()\n        } catch (err) {\n          Log.warn('An error occured while calling getPlayrate', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's FramesPerSecond */\n    getFramesPerSecond: function () {\n      var ret = null\n      if (this._adapter) {\n        try {\n          ret = this._adapter.getFramesPerSecond()\n        } catch (err) {\n          Log.warn('An error occured while calling getFramesPerSecond', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's DroppedFrames */\n    getDroppedFrames: function () {\n      var ret = null\n      if (this._adapter) {\n        try {\n          ret = this._adapter.getDroppedFrames()\n        } catch (err) {\n          Log.warn('An error occured while calling getDroppedFrames', err)\n        }\n      }\n      if (!ret) {\n        ret = this.getWebkitDroppedFrames()\n      }\n      return Util.parseNumber(ret, 0)\n    },\n\n    /**\n     * Returns dropped frames as per webkitDroppedFrameCount\n     *\n     * @returns {number}\n     */\n    getWebkitDroppedFrames: function () {\n      if (this._adapter && this._adapter.tag && this._adapter.tag.webkitDroppedFrameCount) {\n        return this._adapter.tag.webkitDroppedFrameCount\n      }\n      return null\n    },\n\n    /** Returns content's Duration */\n    getDuration: function () {\n      var ret = this.options['content.duration']\n      if (ret === null && this._adapter) {\n        try {\n          ret = this._adapter.getDuration()\n        } catch (err) {\n          Log.warn('An error occured while calling getDuration', err)\n        }\n      }\n      return Util.parseNumber(Math.round(ret), 0)\n    },\n\n    /** Returns content's Bitrate */\n    getBitrate: function () {\n      var ret = this.options['content.bitrate']\n      if (ret === null && this._adapter) {\n        try {\n          ret = this._adapter.getBitrate()\n        } catch (err) {\n          Log.warn('An error occured while calling getBitrate', err)\n        }\n\n        if (!ret || ret === -1) {\n          ret = this.getWebkitBitrate()\n        }\n      }\n      return Util.parseNumber(ret, -1)\n    },\n\n    /**\n     * Returns bitrate as per webkitVideoDecodedByteCount\n     *\n     * @param {Object} tag Video tag DOM reference.\n     * @returns {number}\n     */\n    getWebkitBitrate: function () {\n      if (this._adapter && this._adapter.tag && this._adapter.tag.webkitVideoDecodedByteCount) {\n        var bitrate = this._adapter.tag.webkitVideoDecodedByteCount\n        if (this._lastWebkitBitrate) {\n          var delta = this._adapter.tag.webkitVideoDecodedByteCount - this._lastWebkitBitrate\n          bitrate = Math.round(((delta) / this.viewTransform.response.pingTime) * 8)\n        }\n        this._lastWebkitBitrate = this._adapter.tag.webkitVideoDecodedByteCount\n        return bitrate !== 0 ? bitrate : -1\n      }\n    },\n\n    /** Returns content's Throughput */\n    getThroughput: function () {\n      var ret = this.options['content.throughput']\n      if (ret === null && this._adapter) {\n        try {\n          ret = this._adapter.getThroughput()\n        } catch (err) {\n          Log.warn('An error occured while calling getThroughput', err)\n        }\n      }\n      return Util.parseNumber(ret, -1)\n    },\n\n    /** Returns content's Rendition */\n    getRendition: function () {\n      var ret = this.options['content.rendition']\n      if (ret === null && this._adapter) {\n        try {\n          ret = this._adapter.getRendition()\n        } catch (err) {\n          Log.warn('An error occured while calling getRendition', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's Title */\n    getTitle: function () {\n      var ret = this.options['content.title']\n      if (ret === null && this._adapter) {\n        try {\n          ret = this._adapter.getTitle()\n        } catch (err) {\n          Log.warn('An error occured while calling getTitle', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's Title2 */\n    getTitle2: function () {\n      var ret = this.options['content.title2']\n      if (ret === null && this._adapter) {\n        try {\n          ret = this._adapter.getTitle2()\n        } catch (err) {\n          Log.warn('An error occured while calling getTitle2', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's IsLive */\n    getIsLive: function () {\n      var ret = this.options['content.isLive']\n      if (ret === null && this._adapter) {\n        try {\n          ret = this._adapter.getIsLive()\n        } catch (err) {\n          Log.warn('An error occured while calling getIsLive', err)\n        }\n      }\n      return ret || false\n    },\n\n    /** Returns content's Resource after being parsed by the resourceTransform */\n    getResource: function () {\n      var ret = null\n      if (!this.resourceTransform.isBlocking()) {\n        ret = this.resourceTransform.getResource()\n      }\n\n      return ret || this.getOriginalResource()\n    },\n\n    /** Returns content's original Resource */\n    getOriginalResource: function () {\n      var ret = null\n      ret = this.options['content.resource']\n      if (ret === null && this._adapter) {\n        try {\n          ret = this._adapter.getResource()\n        } catch (err) {\n          Log.warn('An error occured while calling getResource', err)\n          ret = null\n        }\n      }\n      return ret || 'unknown'\n    },\n\n    /** Returns content's TransactionCode */\n    getTransactionCode: function () {\n      return this.options['content.transactionCode']\n    },\n\n    /** Returns content's Metadata */\n    getMetadata: function () {\n      return this.options['content.metadata']\n    },\n\n    /** Returns content's PlayerVersion */\n    getPlayerVersion: function () {\n      var ret = ''\n      if (this._adapter) {\n        try {\n          ret = this._adapter.getPlayerVersion()\n        } catch (err) {\n          Log.warn('An error occured while calling getPlayerVersion', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's PlayerName */\n    getPlayerName: function () {\n      var ret = ''\n      if (this._adapter) {\n        try {\n          ret = this._adapter.getPlayerName()\n        } catch (err) {\n          Log.warn('An error occured while calling getPlayerName', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's Cdn */\n    getCdn: function () {\n      var ret = null\n      if (!this.resourceTransform.isBlocking()) {\n        ret = this.resourceTransform.getCdnName()\n      }\n      return ret || this.options['content.cdn']\n    },\n\n    /** Returns content's PluginVersion */\n    getPluginVersion: function () {\n      var ret = this.getAdapterVersion()\n      if (!ret) ret = version + '-adapterless'\n\n      return ret\n    },\n\n    /** Returns ads adapter getVersion or null */\n    getAdapterVersion: function () {\n      var ret = null\n      if (this._adapter) {\n        try {\n          ret = this._adapter.getVersion()\n        } catch (err) {\n          Log.warn('An error occured while calling getPluginVersion', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's Extraparam1 */\n    getExtraparam1: function () {\n      return this.options['extraparam.1']\n    },\n\n    /** Returns content's Extraparam2 */\n    getExtraparam2: function () {\n      return this.options['extraparam.2']\n    },\n\n    /** Returns content's Extraparam3 */\n    getExtraparam3: function () {\n      return this.options['extraparam.3']\n    },\n\n    /** Returns content's Extraparam4 */\n    getExtraparam4: function () {\n      return this.options['extraparam.4']\n    },\n    /** Returns content's Extraparam5 */\n    getExtraparam5: function () {\n      return this.options['extraparam.5']\n    },\n\n    /** Returns content's Extraparam6 */\n    getExtraparam6: function () {\n      return this.options['extraparam.6']\n    },\n\n    /** Returns content's Extraparam7 */\n    getExtraparam7: function () {\n      return this.options['extraparam.7']\n    },\n\n    /** Returns content's Extraparam8 */\n    getExtraparam8: function () {\n      return this.options['extraparam.8']\n    },\n\n    /** Returns content's Extraparam9 */\n    getExtraparam9: function () {\n      return this.options['extraparam.9']\n    },\n\n    /** Returns content's Extraparam10 */\n    getExtraparam10: function () {\n      return this.options['extraparam.10']\n    },\n\n    /** Returns ads's PlayerVersion */\n    getAdPlayerVersion: function () {\n      var ret = ''\n      if (this._adsAdapter) {\n        try {\n          ret = this._adsAdapter.getPlayerVersion()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdPlayerVersion', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns ad's position */\n    getAdPosition: function () {\n      var ret = 'pre'\n      if (this._adsAdapter) {\n        try {\n          ret = this._adsAdapter.getPosition()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdPosition', err)\n        }\n      }\n      if (!ret && this._adapter) {\n        ret = (this._adapter.flags.isJoined) ? 'mid' : 'pre'\n      }\n      return ret\n    },\n\n    /** Returns ad's AdPlayhead */\n    getAdPlayhead: function () {\n      var ret = null\n      if (this._adsAdapter) {\n        try {\n          ret = this._adsAdapter.getPlayhead()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdPlayhead', err)\n        }\n      }\n      return Util.parseNumber(ret, 0)\n    },\n\n    /** Returns ad's AdDuration */\n    getAdDuration: function () {\n      var ret = null\n      if (this._adsAdapter) {\n        try {\n          ret = this._adsAdapter.getDuration()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdDuration', err)\n        }\n      }\n      return Util.parseNumber(ret, 0)\n    },\n\n    /** Returns ad's AdBitrate */\n    getAdBitrate: function () {\n      var ret = null\n      if (this._adsAdapter) {\n        try {\n          ret = this._adsAdapter.getBitrate()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdBitrate', err)\n        }\n\n        if (!ret || ret === -1) {\n          ret = this.getWebkitAdBitrate()\n        }\n      }\n      return Util.parseNumber(ret, -1)\n    },\n\n    /**\n     * Returns bitrate as per webkitVideoDecodedByteCount\n     *\n     * @param {Object} tag Video tag DOM reference.\n     * @returns {number}\n     */\n    getWebkitAdBitrate: function () {\n      if (this._adapter && this._adapter.tag && this._adapter.tag.webkitVideoDecodedByteCount) {\n        var bitrate = this._adapter.tag.webkitVideoDecodedByteCount\n        if (this._lastWebkitAdBitrate) {\n          var delta = this._adapter.tag.webkitVideoDecodedByteCount - this._lastWebkitAdBitrate\n          bitrate = Math.round(((delta) / this.viewTransform.response.pingTime) * 8)\n        }\n        this._lastWebkitAdBitrate = this._adapter.tag.webkitVideoDecodedByteCount\n        return bitrate !== 0 ? bitrate : -1\n      }\n    },\n\n    /** Returns ad's AdTitle */\n    getAdTitle: function () {\n      var ret = null\n      if (this._adsAdapter) {\n        try {\n          ret = this._adsAdapter.getTitle()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdTitle', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns ad's AdResource */\n    getAdResource: function () {\n      var ret = null\n      if (this._adsAdapter) {\n        try {\n          ret = this._adsAdapter.getResource()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdResource', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns ads adapter getVersion or null */\n    getAdAdapterVersion: function () {\n      var ret = null\n      if (this._adsAdapter) {\n        try {\n          ret = this._adsAdapter.getVersion()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdsAdapterVersion', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns ad's AdMetadata */\n    getAdMetadata: function () {\n      return this.options['ad.metadata']\n    },\n\n    /** Returns PluginInfo */\n    getPluginInfo: function () {\n      var ret = {\n        lib: version,\n        adapter: this.getAdapterVersion(),\n        adAdapter: this.getAdAdapterVersion()\n      }\n      return ret\n    },\n\n    /** Returns Ip */\n    getIp: function () {\n      return this.options['network.ip']\n    },\n\n    /** Returns Isp */\n    getIsp: function () {\n      return this.options['network.isp']\n    },\n\n    /** Returns ConnectionType */\n    getConnectionType: function () {\n      return this.options['network.connectionType']\n    },\n\n    /** Returns DeviceCode */\n    getDeviceCode: function () {\n      return this.options['device.code']\n    },\n\n    /** Returns AccountCode */\n    getAccountCode: function () {\n      return this.options['accountCode']\n    },\n\n    /** Returns Username */\n    getUsername: function () {\n      return this.options['username']\n    },\n\n    /** Get URL referer. */\n    getReferer: function () {\n      var ret = ''\n      if (typeof window !== 'undefined' && window.location) {\n        ret = window.location.href\n      }\n      return ret\n    },\n\n    /**\n     * Returns the nodehost\n     */\n    getNodeHost: function () {\n      return this.resourceTransform.getNodeHost()\n    },\n\n    /**\n     * Returns the node type id\n     */\n    getNodeType: function () {\n      return this.resourceTransform.getNodeType()\n    },\n\n    /**\n     * Returns the node type string\n     */\n    getNodeTypeString: function () {\n      return this.resourceTransform.getNodeTypeString()\n    },\n\n    // ----------------------------------------- CHRONOS ------------------------------------------\n\n    /** Returns preload chrono delta time */\n    getPreloadDuration: function () {\n      return this.preloadChrono.getDeltaTime(false)\n    },\n\n    getInitDuration: function () {\n      return this.initChrono.getDeltaTime(false)\n    },\n\n    /** Returns JoinDuration chrono delta time */\n    getJoinDuration: function () {\n      if (this.isInitiated) return this.getInitDuration()\n      return this._adapter ? this._adapter.chronos.join.getDeltaTime(false) : -1\n    },\n\n    /** Returns BufferDuration chrono delta time */\n    getBufferDuration: function () {\n      return this._adapter ? this._adapter.chronos.buffer.getDeltaTime(false) : -1\n    },\n\n    /** Returns SeekDuration chrono delta time */\n    getSeekDuration: function () {\n      return this._adapter ? this._adapter.chronos.seek.getDeltaTime(false) : -1\n    },\n\n    /** Returns pauseDuration chrono delta time */\n    getPauseDuration: function () {\n      return this._adapter ? this._adapter.chronos.pause.getDeltaTime(false) : -1\n    },\n\n    /** Returns AdJoinDuration chrono delta time */\n    getAdJoinDuration: function () {\n      return this._adsAdapter ? this._adsAdapter.chronos.join.getDeltaTime(false) : -1\n    },\n\n    /** Returns AdBufferDuration chrono delta time */\n    getAdBufferDuration: function () {\n      return this._adsAdapter ? this._adsAdapter.chronos.buffer.getDeltaTime(false) : -1\n    },\n\n    /** Returns AdPauseDuration chrono delta time */\n    getAdPauseDuration: function () {\n      return this._adsAdapter ? this._adsAdapter.chronos.pause.getDeltaTime(false) : -1\n    },\n\n    /** Returns total totalAdDuration chrono delta time */\n    getAdTotalDuration: function () {\n      return this._adsAdapter ? this._adsAdapter.chronos.total.getDeltaTime(false) : -1\n    }\n  },\n\n  /** @lend Plugin */\n  {\n    // Static Memebers //\n    /**\n     * List of events that could be fired\n     * @enum\n     */\n    Event: {\n      WILL_SEND_START: 'will-send-start',\n      WILL_SEND_JOIN: 'will-send-join',\n      WILL_SEND_PAUSE: 'will-send-pause',\n      WILL_SEND_RESUME: 'will-send-resume',\n      WILL_SEND_SEEK: 'will-send-seek',\n      WILL_SEND_BUFFER: 'will-send-buffer',\n      WILL_SEND_ERROR: 'will-send-error',\n      WILL_SEND_FATAL_ERROR: 'will-send-fatal-error',\n      WILL_SEND_STOP: 'will-send-stop',\n      WILL_SEND_PING: 'will-send-ping',\n      WILL_SEND_AD_START: 'will-send-ad-start',\n      WILL_SEND_AD_JOIN: 'will-send-ad-join',\n      WILL_SEND_AD_PAUSE: 'will-send-ad-pause',\n      WILL_SEND_AD_RESUME: 'will-send-ad-resume',\n      WILL_SEND_AD_BUFFER: 'will-send-ad-buffer',\n      WILL_SEND_AD_STOP: 'will-send-ad-stop'\n    }\n  }\n)\n\nmodule.exports = Plugin\n","var YouboraObject = require('../object')\nvar Log = require('../log')\n\nvar startParams = [\n  'accountCode',\n  'username',\n  'rendition',\n  'title',\n  'title2',\n  'live',\n  'mediaDuration',\n  'mediaResource',\n  'transactionCode',\n  'properties',\n  'cdn',\n  'playerVersion',\n  'param1',\n  'param2',\n  'param3',\n  'param4',\n  'param5',\n  'param6',\n  'param7',\n  'param8',\n  'param9',\n  'param10',\n  'pluginVersion',\n  'pluginInfo',\n  'isp',\n  'connectionType',\n  'ip',\n  'deviceCode',\n  'preloadDuration'\n]\n\nvar RequestBuilder = YouboraObject.extend(\n  /** @lends RequestBuilder.prototype */\n  {\n    /**\n     * This class helps building params associated with each event: /start, /joinTime...\n     *\n     * @constructs RequestBuilder\n     * @extends YouboraObject\n     * @memberof youbora\n     *\n     * @param {Plugin} plugin A Plugin instance\n     */\n    constructor: function (plugin) {\n      this._plugin = plugin\n      this._adNumber = 0\n\n      /** Stores a list of the last params fetched */\n      this.lastSent = {}\n    },\n\n    /**\n     * Adds to params all the entities specified in paramList, unless they are already set.\n     *\n     * @param {Object} params Object of params key:value.\n     * @param {Array[string]} paramList A list of params to fetch.\n     * @param {bool} onlyDifferent If true, only fetches params that have changed\n     */\n    fetchParams: function (params, paramList, onlyDifferent) {\n      params = params || {}\n      paramList = paramList || []\n      for (var i = 0; i < paramList.length; i++) {\n        var param = paramList[i]\n\n        if (params[param]) { continue }\n        var getterName = RequestBuilder.getters[param]\n\n        if (this._plugin[getterName]) {\n          var value = this._plugin[getterName]()\n          if (value !== null && (!onlyDifferent || this.lastSent[param] !== value)) {\n            params[param] = value\n            this.lastSent[param] = value\n          }\n        } else {\n          Log.warn('Trying to call undefined getter ' + param + ':' + getterName)\n        }\n      }\n\n      return params\n    },\n\n    /**\n     * Adds to params object all the entities specified in paramList, unless they are already set.\n     *\n     * @param {Object} params Object of params key:value.\n     * @param {string} service The name of the service. Use {@link Plugin.Service} enum.\n     */\n    buildParams: function (params, service) {\n      params = params || {}\n      this.fetchParams(params, RequestBuilder.params[service], false)\n      this.fetchParams(params, RequestBuilder.differentParams[service], true)\n      return params\n    },\n\n    /**\n     * Creates an adnumber if it does not exist and stores it in lastSent. If it already exists,\n     * it is incremented by 1.\n     *\n     * @returns {number} adNumber\n     */\n    getNewAdNumber: function () {\n      var adNumber = this.lastSent.adNumber\n      if (adNumber && this.lastSent.adPosition === this._plugin.getAdPosition()) {\n        adNumber += 1\n      } else {\n        adNumber = 1\n      }\n      this.lastSent.adNumber = adNumber\n      return adNumber\n    },\n\n    /**\n     * Return changed entities since last check\n     *\n     * @returns {Object} params\n     */\n    getChangedEntities: function () {\n      return this.fetchParams({}, RequestBuilder.differentParams['entities'], true)\n    }\n  },\n  /* @lends RequestBuilder */\n  {\n    // Static Members\n\n    /** List of params used by each service */\n    params: {\n      '/data': ['system', 'pluginVersion'],\n      '/init': startParams,\n      '/start': startParams,\n      '/joinTime': ['joinDuration', 'playhead'],\n      '/pause': ['playhead'],\n      '/resume': ['pauseDuration', 'playhead'],\n      '/seek': ['seekDuration', 'playhead'],\n      '/bufferUnderrun': ['bufferDuration', 'playhead'],\n      '/error': ['player'].concat(startParams),\n      '/stop': ['bitrate', 'playhead'],\n      '/adStart': [\n        'playhead',\n        'adTitle',\n        'adPosition',\n        'adDuration',\n        'adResource',\n        'adPlayerVersion',\n        'adProperties',\n        'adAdapterVersion'\n      ],\n      '/adJoin': ['adPosition', 'adJoinDuration', 'adPlayhead'],\n      '/adPause': ['adPosition', 'adPlayhead'],\n      '/adResume': ['adPosition', 'adPlayhead', 'adPauseDuration'],\n      '/adBufferUnerrun': ['adPosition', 'adPlayhead', 'adBufferDuration'],\n      '/adStop': ['adPosition', 'adPlayhead', 'adBitrate', 'adTotalDuration'],\n      '/ping': ['playhead', 'droppedFrames', 'playrate']\n    },\n\n    /** List of params used by each service (only if they are different) */\n    differentParams: {\n      '/join': ['title', 'title2', 'live', 'mediaDuration', 'mediaResource'],\n      '/adJoin': ['adTitle', 'adDuration', 'adResource'],\n      'entities': [\n        'rendition',\n        'title',\n        'title2',\n        'live',\n        'mediaDuration',\n        'mediaResource',\n        'param1',\n        'param2',\n        'param3',\n        'param4',\n        'param5',\n        'param6',\n        'param7',\n        'param8',\n        'param9',\n        'param10',\n        'connectionType',\n        'deviceCode',\n        'ip',\n        'username',\n        'cdn',\n        'nodeHost',\n        'nodeType',\n        'nodeTypeString'\n      ]\n    },\n\n    /** List of params and its related getter */\n    getters: {\n      playhead: 'getPlayhead',\n      playrate: 'getPlayrate',\n      fps: 'getFramesPerSecond',\n      droppedFrames: 'getDroppedFrames',\n      mediaDuration: 'getDuration',\n      bitrate: 'getBitrate',\n      throughput: 'getThroughput',\n      rendition: 'getRendition',\n      title: 'getTitle',\n      title2: 'getTitle2',\n      live: 'getIsLive',\n      mediaResource: 'getResource',\n      transactionCode: 'getTransactionCode',\n      properties: 'getMetadata',\n      playerVersion: 'getPlayerVersion',\n      player: 'getPlayerName',\n      cdn: 'getCdn',\n      pluginVersion: 'getPluginVersion',\n\n      param1: 'getExtraparam1',\n      param2: 'getExtraparam2',\n      param3: 'getExtraparam3',\n      param4: 'getExtraparam4',\n      param5: 'getExtraparam5',\n      param6: 'getExtraparam6',\n      param7: 'getExtraparam7',\n      param8: 'getExtraparam8',\n      param9: 'getExtraparam9',\n      param10: 'getExtraparam10',\n\n      adPosition: 'getAdPosition',\n      adPlayhead: 'getAdPlayhead',\n      adDuration: 'getAdDuration',\n      adBitrate: 'getAdBitrate',\n      adTitle: 'getAdTitle',\n      adResource: 'getAdResource',\n      adPlayerVersion: 'getAdPlayerVersion',\n      adProperties: 'getAdMetadata',\n      adAdapterVersion: 'getAdAdapterVersion',\n\n      pluginInfo: 'getPluginInfo',\n\n      isp: 'getIsp',\n      connectionType: 'getConnectionType',\n      ip: 'getIp',\n\n      deviceCode: 'getDeviceCode',\n\n      system: 'getAccountCode',\n      accountCode: 'getAccountCode',\n      username: 'getUsername',\n\n      preloadDuration: 'getPreloadDuration',\n\n      joinDuration: 'getJoinDuration',\n      bufferDuration: 'getBufferDuration',\n      seekDuration: 'getSeekDuration',\n      pauseDuration: 'getPauseDuration',\n\n      adJoinDuration: 'getAdJoinDuration',\n      adBufferDuration: 'getAdBufferDuration',\n      adPauseDuration: 'getAdPauseDuration',\n      adTotalDuration: 'getAdTotalDuration',\n\n      referer: 'getReferer',\n\n      nodeHost: 'getNodeHost',\n      nodeType: 'getNodeType',\n      nodeTypeString: 'getNodeTypeString'\n    }\n\n  }\n)\n\nmodule.exports = RequestBuilder\n","/* eslint no-extend-native: \"off\" */\n\n/**\n * When executed, this function applies polyfills to the following functionalities:\n * Function.prototype.bind,\n * Object.assign,\n * Object.create,\n * Array.prototype.forEach,\n * Array.isArray\n *\n * @memberof youbora\n */\nvar applyPolyfills = function () {\n  // Bind\n  Function.prototype.bind = Function.prototype.bind || function (b) {\n    if (typeof this !== 'function') {\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable')\n    }\n    var a = Array.prototype.slice\n    var f = a.call(arguments, 1)\n    var e = this\n    var C = function () {}\n    var d = function () {\n      return e.apply(this instanceof C ? this : b || window, f.concat(a.call(arguments)))\n    }\n    C.prototype = this.prototype\n    d.prototype = new C()\n    return d\n  }\n\n  // Assign\n  Object.assign = Object.assign || function (target) {\n    if (target === undefined || target === null) {\n      throw new TypeError('Cannot convert undefined or null to object')\n    }\n\n    var output = Object(target)\n    for (var index = 1; index < arguments.length; index++) {\n      var source = arguments[index]\n      if (source !== undefined && source !== null) {\n        for (var nextKey in source) {\n          if (source.hasOwnProperty(nextKey)) {\n            output[nextKey] = source[nextKey]\n          }\n        }\n      }\n    }\n    return output\n  }\n\n  // Create\n  Object.create = Object.create || (function () {\n    var Temp = function () {}\n    return function (prototype, propertiesObject) {\n      if (prototype !== Object(prototype) && prototype !== null) {\n        throw TypeError('Argument must be an object, or null')\n      }\n      Temp.prototype = prototype || {}\n      var result = new Temp()\n      Temp.prototype = null\n      if (propertiesObject !== undefined) {\n        Object.defineProperties(result, propertiesObject)\n      }\n\n      // to imitate the case of Object.create(null)\n      if (prototype === null) {\n        result.prototype = null\n      }\n      return result\n    }\n  })()\n\n  // Foreach\n  Array.prototype.forEach = Array.prototype.forEach || function (callback, thisArg) {\n    if (typeof (callback) !== 'function') {\n      throw new TypeError(callback + ' is not a function!')\n    }\n    var len = this.length\n    for (var i = 0; i < len; i++) {\n      callback.call(thisArg, this[i], i, this)\n    }\n  }\n\n  // isArray\n  Array.isArray = Array.isArray || function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]'\n  }\n}\n\nmodule.exports = applyPolyfills\n","var YouboraObject = require('./object')\nvar Chrono = require('./chrono')\n\nvar Timer = YouboraObject.extend(\n  /** @lends Timer.prototype */\n  {\n    /**\n     * Instances of this class will call a callback every setted interval.\n     *\n     * @param {function} callback The callback to call every due interval.\n     * Callback will receive lapsed ms between calls.\n     * @param {int} [interval=5000] Milliseconds between each call.\n     *\n     * @constructs Timer\n     * @extends YouboraObject\n     * @memberof youbora\n     */\n    constructor: function (callback, interval) {\n      this.callback = callback\n      this.interval = interval || 5000\n      this.isRunning = false\n      this._timer = null\n\n      this.chrono = new Chrono()\n    },\n\n    /**\n     * Starts the timer.\n     */\n    start: function () {\n      this.isRunning = true\n      this._setTick()\n    },\n\n    /**\n     * Stops the timer.\n     */\n    stop: function () {\n      this.isRunning = false\n      if (this._timer) clearTimeout(this._timer)\n    },\n\n    _setTick: function () {\n      this.chrono.start()\n      this._timer = setTimeout(function () {\n        this.callback(this.chrono.stop())\n        this._setTick()\n      }.bind(this), this.interval)\n    }\n  }\n)\n\nmodule.exports = Timer\n","var Log = require('./log')\n\n/**\n * This static class provides utilities\n * @class\n * @static\n * @memberof youbora\n */\nvar Util = {\n  /**\n   * Strip {protocol}:// and // from the begining of the string.\n   *\n   * @param {string} url\n   * @returns {string} stripped url\n   */\n  stripProtocol: function (url) {\n    try {\n      return url.replace(/^(.*?:\\/\\/|\\/\\/)/i, '')\n    } catch (err) {\n      Log.warn(err)\n      return url\n    }\n  },\n\n  /**\n   * Adds specific protocol. ie: [http[s]:]//nqs.nice264.com\n   *\n   * @param {string} url Domain of the service.\n   * @param {boolean|null} [httpSecure]\n   * If true will add https, if false http.\n   * Otherwise will add //\n   * @return Return the complete service URL.\n   */\n  addProtocol: function (url, httpSecure) {\n    try {\n      if (httpSecure === true) {\n        return 'https://' + url\n      } else if (window.location.protocol.indexOf('http') === 0) {\n        return '//' + url\n      } else {\n        return 'http://' + url\n      }\n    } catch (err) {\n      Log.warn(err)\n      return 'http://localhost/'\n    }\n  },\n\n  /**\n   * Return n if it isn't NaN, negative, Infinity, null or undefined.\n   * In any other case, return def.\n   *\n   * @param {mixed} n Number to be parsed.\n   * @param {number} defl Number to return if n is not correct.\n   */\n  parseNumber: function (n, def) {\n    if (\n      !isNaN(n) &&\n      n >= 0 &&\n      n !== Infinity &&\n      n !== -Infinity &&\n      n !== null &&\n      typeof n !== 'undefined'\n    ) {\n      return n\n    } else {\n      return def\n    }\n  },\n\n  /**\n   * This utility function will add most of the HTML5 common event listeners to the player sent.\n   * This common events will be listened: 'canplay', 'buffering', 'waiting', 'ended', 'play',\n   * 'playing', 'pause', 'resume', 'error', 'abort', 'seek', 'seeking', 'seeked', 'stalled',\n   * 'dispose', 'loadeddata', 'loadstart'.\n   *\n   * Events will be reported as DEBUG level messages.\n   *\n   * @param {object|function} o Object to attach the events.\n   * @param {array} [extraEvents]\n   * An array of extra events to watch. ie:  ['timeupdate', 'progress'].\n   * If the first item is null, no common events will be added.\n   * @param {function} [report] Callback function called to report events.\n   * Default calls Log.debug()\n   */\n  logAllEvents: function (o, extraEvents, report) {\n    try {\n      if (Log.logLevel <= Log.Level.DEBUG) {\n        report = report || function (e) {\n          Log.debug('Event: ' + e.type)\n        }\n\n        var playerEvents = [\n          'canplay', 'buffering', 'waiting', 'ended', 'play', 'playing',\n          'pause', 'resume', 'error', 'abort', 'seek', 'seeking', 'seeked',\n          'stalled', 'dispose', 'loadeddata', 'loadstart'\n        ]\n        if (extraEvents) {\n          if (extraEvents[0] === null) {\n            extraEvents.shift()\n            playerEvents = extraEvents\n          } else {\n            playerEvents = playerEvents.concat(extraEvents)\n          }\n        }\n\n        for (var i = 0; i < playerEvents.length; i++) {\n          if (typeof o === 'function') {\n            o.call(window, playerEvents[i], report)\n          } else if (o.on) {\n            o.on(playerEvents[i], report)\n          } else if (o.addEventListener) {\n            o.addEventListener(playerEvents[i], report)\n          }\n        }\n      }\n    } catch (err) {\n      Log.error(err)\n    }\n  },\n\n  /**\n   * Builds a string that represents the rendition.\n   *\n   * The returned string will have the following format: <width>x<height>@bitrate<suffix?>.\n   * If either the width or height are < 1, only the bitrate will be returned.\n   * If bitrate is < 1, only the dimensions will be returned.\n   * If bitrate is < and there is no dimensions, a null will be returned.\n   * The bitrate will also have one of the following suffixes dependin on its\n   * magnitude: bps, Kbps, Mbps\n   *\n   * @param {any} width The width of the asset. If only 1 argument is sent, it will be treated\n   * as bitrate.\n   * @param {any} height The height of the asset.\n   * @param {any} bitrate The indicated bitrate (in the manifest) of the asset.\n   * @returns {string} A string with the following format: <width>x<height>@<bitrate><suffix>\n   */\n  buildRenditionString: function (width, height, bitrate) {\n    if (arguments.length === 1) {\n      bitrate = width\n      width = null\n      height = null\n    }\n\n    var ret = ''\n    if (width && height) {\n      ret = width + 'x' + height\n      if (bitrate > 0) {\n        ret += '@'\n      }\n    }\n\n    if (bitrate < 1) {\n      return ret\n    } else if (bitrate < 1e3) {\n      ret += Math.round(bitrate) + 'bps'\n    } else if (bitrate < 1e6) {\n      bitrate = Math.round(bitrate / 1e3)\n      ret += bitrate + 'Kbps'\n    } else {\n      bitrate = Math.round(bitrate / 1e4) / 1e2\n      ret += bitrate + 'Mbps'\n    }\n\n    return ret || null\n  }\n\n}\n\nmodule.exports = Util\n","module.exports = require('../manifest.json').version\n","// No-Conflict\nvar previousYoubora = youbora\nvar youbora = {}\n\n/**\n * This allows you to run multiple instances of YouboraLib on the same webapp.\n * After loading the new version, call `noConflict()` to get a reference to it.\n * At the same time the old version will be returned to Youbora.\n */\nyoubora.noConflict = function () {\n  youbora = previousYoubora\n  return this\n}\n\n// Info\nyoubora.VERSION = require('./version')\n\n// Polyfills\nyoubora.polyfills = require('./polyfills')\n\n// Classes\nyoubora.Object = require('./object')\nyoubora.Emitter = require('./emitter')\nyoubora.Util = require('./util')\nyoubora.Chrono = require('./chrono')\nyoubora.Timer = require('./timer')\nyoubora.Constants = require('./constants')\n\n// Log\nyoubora.Log = require('./log')\nyoubora.Log.loadLevelFromUrl()\n\n// Comm classes\nyoubora.Request = require('./comm/request')\nyoubora.Communication = require('./comm/communication')\n\n// Resource Transform\nyoubora.Transform = require('./comm/transform/transform')\nyoubora.ViewTransform = require('./comm/transform/view')\nyoubora.Nqs6Transform = require('./comm/transform/nqs6')\nyoubora.ResourceTransform = require('./comm/transform/resource')\nyoubora.CdnParser = require('./comm/transform/resourceparsers/cdnparser')\nyoubora.HlsParser = require('./comm/transform/resourceparsers/hlsparser')\n\n// Plugin Classes\nyoubora.Options = require('./plugin/options')\nyoubora.Plugin = require('./plugin/plugin')\nyoubora.RequestBuilder = require('./plugin/requestbuilder')\n\n// Adapters\nyoubora.PlayheadMonitor = require('./adapter/playheadmonitor')\nyoubora.Adapter = require('./adapter/adapter')\nyoubora.adapters = {}\n\nmodule.exports = youbora\n","/* global videojs:true */\nvar youbora = require('youboralib')\nvar manifest = require('../manifest.json')\n\nyoubora.adapters.Videojs5 = youbora.Adapter.extend({\n  getVersion: function () {\n    return manifest.version + '-videojs5'\n  },\n\n  getPlayhead: function () {\n    if (this.player.ads && this.player.ads.snapshot && this.player.ads.snapshot.currentTime) {\n      return this.player.ads.snapshot.currentTime\n    } else if (this.player.absoluteTime) {\n      return this.player.absoluteTime()\n    } else {\n      return this.player.currentTime()\n    }\n  },\n\n  getDuration: function () {\n    if (this.player.mediainfo && typeof this.player.mediainfo.duration !== 'undefined') {\n      return this.player.mediainfo.duration // brightcove\n    } else {\n      return this.player.duration()\n    }\n  },\n\n  getResource: function () {\n    if (this.getTech().hls_) {\n      return this.getTech().hls_.url // hlsjs\n    } else {\n      return this.player.currentSrc()\n    }\n  },\n\n  getTitle: function () {\n    if (this.player.mediainfo && this.player.mediainfo.name) {\n      return this.player.mediainfo.name // brightcove\n    }\n  },\n\n  getThroughput: function () {\n    if (this.getTech().hls && this.getTech().hls.bandwidth) {\n      return this.getTech().hls.bandwidth // hlsjs\n    }\n  },\n\n  getBitrate: function () {\n    if (this.getTech().hls) { // contrib hls\n      var media = this.getTech().hls.playlists.media()\n      if (media && media.attributes) return media.attributes.BANDWIDTH\n    } else if (this.getTech().hls_) { // hlsjs\n      var level = this.getTech().hls_.levels[this.getTech().hls_.currentLevel]\n      if (level && level.bitrate) return level.bitrate\n    }\n  },\n\n  getRendition: function () {\n    if (this.getTech().hls) { // contrib hls\n      var media = this.getTech().hls.playlists.media()\n      if (media && media.attributes) {\n        var att = media.attributes\n        if (att.NAME) {\n          return att.NAME\n        } else if (att.RESOLUTION) {\n          return youbora.Util.buildRenditionString(\n            att.RESOLUTION.width,\n            att.RESOLUTION.height,\n            att.BANDWIDTH\n          )\n        } else {\n          return youbora.Util.buildRenditionString(att.BANDWIDTH)\n        }\n      }\n    } else if (this.getTech().hls_) { // hlsjs\n      var level = this.getTech().hls_.levels[this.getTech().hls_.currentLevel]\n      if (level && level.name) {\n        return level.name\n      } else {\n        return youbora.Util.buildRenditionString(level.width, level.height, level.bitrate)\n      }\n    }\n  },\n\n  getPlayerName: function () {\n    var name = 'videojs5'\n    if (this.getTech().hls) name += '-hls' // hls-contrib\n    if (this.getTech().hls_) name += '-hlsjs' // hlsjs\n    if (this.player.mediainfo) name += '-bcove' // brightcove\n    if (this.player.ima || this.player.ima3) name += '-ima' // ima3\n    if (this.player.FreeWheelPlugin) name += '-fw' // freewheel\n    if (this.player.onceux) this.pluginName += '-oux' // OnceUX\n    return name\n  },\n\n  getPlayerVersion: function () {\n    var ver = this.getPlayerName()\n    if (videojs.VERSION) ver += ' ' + videojs.VERSION\n    return ver\n  },\n\n  getTech: function () {\n    // NOTE: Videojs discourages accessing techs from plugins because they want\n    // devs to develop tech-agnostic plugins. I don't think this applies to us,\n    // as we need to retrieve info from each different tech.\n    // https://github.com/videojs/video.js/issues/2617\n    return this.player.tech({ IWillNotUseThisInPlugins: true })\n  },\n\n  registerListeners: function () {\n    // Console all events if logLevel=DEBUG\n    youbora.Util.logAllEvents(this.player, [\n      'adstart', 'adend', 'adskip', 'adsready', 'adserror', 'dispose'])\n\n    // Enable playhead monitor\n    this.monitorPlayhead(true, false)\n\n    // Register listeners\n    this.player.on('loadstart', this.loadstartListener.bind(this))\n    this.player.on('adsready', this.adsreadyListener.bind(this))\n    this.player.on('play', this.playListener.bind(this))\n    this.player.on('timeupdate', this.timeupdateListener.bind(this))\n    this.player.on('pause', this.pauseListener.bind(this))\n    this.player.on('playing', this.playingListener.bind(this))\n    this.player.on('abort', this.abortListener.bind(this))\n    this.player.on('ended', this.endedListener.bind(this))\n    this.player.on('dispose', this.disposeListener.bind(this))\n    this.player.on('seeking', this.seekingListener.bind(this))\n    this.player.on('seeked', this.seekedListener.bind(this))\n    this.player.on('error', this.errorListener.bind(this))\n  },\n\n  loadstartListener: function (e) {\n    youbora.Log.notice('Player detected ' + this.getPlayerName())\n    if (this.player.autoplay()) this.fireStart()\n  },\n\n  adsreadyListener: function (e) {\n    this.loadAdsAdapter()\n  },\n\n  playListener: function (e) {\n    this.fireStart()\n  },\n\n  timeupdateListener: function (e) {\n    if (this.getPlayhead() > 0.1) {\n      this.fireJoin()\n\n      // Send seek end\n      if (this.lastSeekPlayhead && this.lastSeekPlayhead !== this.getPlayhead()) {\n        this.fireSeekEnd()\n        this.lastSeekPlayhead = false\n      }\n    }\n  },\n\n  pauseListener: function (e) {\n    this.firePause()\n  },\n\n  playingListener: function (e) {\n    this.fireResume()\n  },\n\n  abortListener: function (e) {\n    this.fireStop()\n  },\n\n  endedListener: function (e) {\n    this.fireStop()\n  },\n\n  disposeListener: function (e) {\n    this.fireStop()\n  },\n\n  seekingListener: function (e) {\n    this.fireSeekBegin()\n  },\n\n  seekedListener: function (e) {\n    // We save the playhead after the seek, we will send the seeked in the next timeupdate\n    this.lastSeekPlayhead = this.getPlayhead()\n  },\n\n  errorListener: function (e) {\n    if (this.player.error && this.player.error()) {\n      this.fireError(this.player.error().code, this.player.error().message)\n    }\n  },\n\n  unregisterListeners: function () {\n    // Disable playhead monitoring\n    this.monitor.stop()\n\n    // unregister listeners\n    this.player.off('loadstart', this.loadstartListener)\n    this.player.off('adsready', this.adsreadyListener)\n    this.player.off('play', this.playListener)\n    this.player.off('playing', this.playingListener)\n    this.player.off('pause', this.pauseListener)\n    this.player.off('abort', this.abortListener)\n    this.player.off('ended', this.endedListener)\n    this.player.off('dispose', this.disposeListener)\n    this.player.off('seeking', this.seekingListener)\n    this.player.off('seeked', this.seekedListener)\n    this.player.off('timeupdate', this.timeupdateListener)\n    this.player.off('error', this.errorListener)\n  },\n\n  loadAdsAdapter: function () {\n    if (this.plugin.getAdsAdapter() === null) {\n      var adapter\n      if (typeof google !== 'undefined') {\n        if (this.player.mediainfo && this.player.ads && this.player.ima3) { // Brightcove+IMA\n          adapter = new youbora.adapters.Videojs5.BrightcoveAdsAdapter(this.player)\n        } else if (this.player.ima) { // IMA Standalone\n          adapter = new youbora.adapters.Videojs5.ImaAdsAdapter(this.player)\n        }\n      } else if (this.player.onceux) { // OnceUX\n        adapter = new youbora.adapters.Videojs5.OnceUXAdsAdapter(this.player)\n      } else { // Generic\n        adapter = new youbora.adapters.Videojs5.GenericAdsAdapter(this.player)\n      }\n\n      this.plugin.setAdsAdapter(adapter)\n    }\n  }\n},\n  // Static members\n  {\n    GenericAdsAdapter: require('./ads/generic'),\n    ImaAdsAdapter: require('./ads/ima'),\n    BrightcoveAdsAdapter: require('./ads/brightcove'),\n    OnceUXAdsAdapter: require('./ads/onceux')\n  }\n)\n\nmodule.exports = youbora.adapters.Videojs5\n","var youbora = require('youboralib')\nvar manifest = require('../../manifest.json')\n\nvar BrightcoveAdsAdapter = youbora.Adapter.extend({\n  getVersion: function () {\n    return manifest.version + '-videojs-bcove-ads'\n  },\n\n  getPlayhead: function () {\n    return this.player.ima3.adPlayer.currentTime()\n  },\n\n  registerListeners: function () {\n    // Console all events if logLevel=DEBUG\n    youbora.Util.logAllEvents(this.player, [\n      null,\n      'ima3-ready',\n      'ima3error',\n      'ima3-ad-error',\n      'ima3-started',\n      'ima3-complete',\n      'ima3-paused',\n      'ima3-resumed',\n      'ads-request',\n      'ads-load',\n      'ads-ad-started',\n      'ads-ad-ended',\n      'ads-pause',\n      'ads-play',\n      'ads-click',\n      'ads-pod-started',\n      'ads-pod-ended',\n      'ads-allpods-completed'\n    ])\n\n    // Enable playhead monitor\n    this.monitorPlayhead(true, false)\n\n    // Register listeners\n    this.player.on('ima3-started', this.imaStartedListener.bind(this))\n    this.player.on('ima3-paused', this.imaPausedListener.bind(this))\n    this.player.on('ima3-resumed', this.imaResumedListener.bind(this))\n    this.player.on('ima3-complete', this.imaCompleteListener.bind(this))\n    this.player.on('ima3-skipped', this.imaSkippedListener.bind(this))\n  },\n\n  imaStartedListener: function (e) {\n    this.fireStart()\n    this.fireJoin()\n  },\n\n  imaPausedListener: function (e) {\n    this.firePause()\n  },\n\n  imaResumedListener: function (e) {\n    this.fireResume()\n  },\n\n  imaCompleteListener: function (e) {\n    this.fireStop()\n  },\n\n  imaSkippedListener: function (e) {\n    this.fireStop({ skipped: true })\n  },\n\n  unregisterListeners: function () {\n    // Disable playhead monitoring\n    this.monitor.stop()\n\n    // unregister listeners\n    this.player.off('ima3-started', this.imaStartedListener)\n    this.player.off('ima3-paused', this.imaPausedListener)\n    this.player.off('ima3-resumed', this.imaResumedListener)\n    this.player.off('ima3-complete', this.imaCompleteListener)\n    this.player.off('ima3-skipped', this.imaSkippedListener)\n  }\n})\n\nmodule.exports = BrightcoveAdsAdapter\n","var youbora = require('youboralib')\nvar manifest = require('../../manifest.json')\n\nvar GenericAdsAdapter = youbora.Adapter.extend({\n  getVersion: function () {\n    return manifest.version + '-videojs-ads'\n  },\n\n  registerListeners: function () {\n    // Register listeners\n    this.player.on('adstart', this.adStartListener.bind(this))\n    this.player.on('adend', this.adEndListener.bind(this))\n    this.player.on('adskip', this.adSkipListener.bind(this))\n  },\n\n  adStartListener: function (e) {\n    this.fireStart()\n    this.fireJoin()\n  },\n\n  adEndListener: function (e) {\n    this.fireStop()\n  },\n\n  adSkipListener: function (e) {\n    this.fireStop({ skipped: true })\n  },\n\n  unregisterListeners: function () {\n    // unregister listeners\n    this.player.off('adstart', this.adStartListener)\n    this.player.off('adend', this.adEndListener)\n    this.player.off('adskip', this.adSkipListener)\n  }\n})\n\nmodule.exports = GenericAdsAdapter\n","/* global google:true */\n\nvar youbora = require('youboralib')\nvar manifest = require('../../manifest.json')\n\nvar BrightcoveAdsAdapter = youbora.Adapter.extend({\n  getVersion: function () {\n    return manifest.version + '-videojs-ima-ads'\n  },\n\n  getDuration: function () {\n    if (this.player.ima.getAdsManager().getCurrentAd() !== null) {\n      this.duration = this.player.ima.getAdsManager().getCurrentAd().getDuration()\n    }\n    return this.duration\n  },\n\n  getTitle: function () {\n    return this.player.ima.getAdsManager().getCurrentAd().getTitle()\n  },\n\n  getPlayhead: function () {\n    return this.getDuration() - this.player.ima.getAdsManager().getRemainingTime()\n  },\n\n  getPlayerVersion: function () {\n    return 'IMA' + google.ima.VERSION + '; contrib-ads ' + this.player.ads.VERSION\n  },\n\n  registerListeners: function () {\n    // Enable playhead monitor\n    this.monitorPlayhead(true, false)\n\n    // Console all events if logLevel=DEBUG\n    youbora.Util.logAllEvents(this.player.ima.addEventListener, [\n      null,\n      google.ima.AdEvent.Type.ALL_ADS_COMPLETED,\n      google.ima.AdEvent.Type.LINEAR_CHANGED,\n      google.ima.AdEvent.Type.USER_CLOSE,\n      google.ima.AdEvent.Type.COMPLETE,\n      google.ima.AdEvent.Type.IMPRESSION,\n      google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,\n      google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,\n      google.ima.AdEvent.Type.SKIPPED,\n      google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,\n      google.ima.AdEvent.Type.LOADED,\n      google.ima.AdEvent.Type.PAUSED,\n      google.ima.AdEvent.Type.RESUMED,\n      google.ima.AdEvent.Type.STARTED,\n      google.ima.AdEvent.Type.AD_CAN_PLAY,\n      google.ima.AdEvent.Type.AD_METADATA,\n      google.ima.AdEvent.Type.EXPANDED_CHANGED,\n      google.ima.AdEvent.Type.AD_BREAK_READY,\n      google.ima.AdEvent.Type.LOG\n    ])\n\n    // Register listeners\n    this.player.ima.addEventListener(google.ima.AdEvent.Type.LOADED, this.loadedListener.bind(this))\n    this.player.ima.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, this.contentPauseRequestedListener.bind(this))\n    this.player.ima.addEventListener(google.ima.AdEvent.Type.STARTED, this.startedListener.bind(this))\n    this.player.ima.addEventListener(google.ima.AdEvent.Type.PAUSED, this.pausedListener.bind(this))\n    this.player.ima.addEventListener(google.ima.AdEvent.Type.RESUMED, this.resumedListener.bind(this))\n    this.player.ima.addEventListener(google.ima.AdEvent.Type.COMPLETE, this.completeListener.bind(this))\n    this.player.ima.addEventListener(google.ima.AdEvent.Type.SKIPPED, this.skippedListener.bind(this))\n  },\n\n  loadedListener: function (e) {\n    this.fireStart()\n  },\n\n  contentPauseRequestedListener: function (e) {\n    this.fireStart()\n  },\n\n  startedListener: function (e) {\n    this.fireJoin()\n  },\n\n  pausedListener: function (e) {\n    this.firePause()\n  },\n\n  resumedListener: function (e) {\n    this.fireResume()\n  },\n\n  completeListener: function (e) {\n    this.fireStop()\n  },\n\n  skippedListener: function (e) {\n    this.fireStop({ skipped: true })\n  },\n\n  unregisterListeners: function () {\n    // Disable playhead monitoring\n    this.monitor.stop()\n  }\n})\n\nmodule.exports = BrightcoveAdsAdapter\n","var youbora = require('youboralib')\nvar manifest = require('../../manifest.json')\n\nvar OnceUXAdsAdapter = youbora.Adapter.extend({\n  getVersion: function () {\n    return manifest.version + '-videojs-onceux-ads'\n  },\n\n  getResource: function () {\n    return this.player.ads.contentSrc\n  },\n\n  getPlayhead: function () {\n    return this.player.onceux.currentTime()\n  },\n\n  getDuration: function () {\n    return this.player.onceux.duration()\n  },\n\n  registerListeners: function () {\n    // Console all events if logLevel=DEBUG\n    youbora.Util.logAllEvents(this.player, [\n      null,\n      'onceux-ads-complete',\n      'onceux-adroll-start',\n      'onceux-adroll-complete',\n      'onceux-linearad-start',\n      'onceux-linearad-impression',\n      'onceux-linearad-complete',\n      'onceux-linearad-skipped',\n      'onceux-linearad-pause',\n      'onceux-linearad-resume',\n      'onceux-companionad-creativeView'\n    ])\n\n    // Enable playhead monitor\n    this.monitorPlayhead(true, false)\n\n    // Register listeners\n    this.player.on('onceux-linearad-start', this.startedListener.bind(this))\n    this.player.on('onceux-linearad-pause', this.pausedListener.bind(this))\n    this.player.on('onceux-linearad-resume', this.resumedListener.bind(this))\n    this.player.on('onceux-linearad-complete', this.completeListener.bind(this))\n    this.player.on('onceux-linearad-skipped', this.skippedListener.bind(this))\n  },\n\n  startedListener: function (e) {\n    this.fireStart()\n    this.fireJoin()\n  },\n\n  pausedListener: function (e) {\n    this.firePause()\n  },\n\n  resumedListener: function (e) {\n    this.fireResume()\n  },\n\n  completeListener: function (e) {\n    this.fireStop()\n  },\n\n  skippedListener: function (e) {\n    this.fireStop({ skipped: true })\n  },\n\n  unregisterListeners: function () {\n    // Disable playhead monitoring\n    this.monitor.stop()\n\n    // unregister listeners\n    this.player.off('onceux-linearad-start', this.startedListener)\n    this.player.off('onceux-linearad-pause', this.pausedListener)\n    this.player.off('onceux-linearad-resume', this.resumedListener)\n    this.player.off('onceux-linearad-complete', this.completeListener)\n    this.player.off('onceux-linearad-skipped', this.skippedListener)\n  }\n})\n\nmodule.exports = OnceUXAdsAdapter\n","/* global videojs:true */\n\n// Register the plugin in videojs plugins space.\nmodule.exports = function (youbora) {\n  if (typeof videojs !== 'undefined') {\n    videojs.plugin('youbora', function (options) {\n      if (typeof this.youboraplugin === 'undefined') {\n        // First call of the plugin inits the plugin.\n        this.youboraplugin = new youbora.Plugin(options, new youbora.adapters.VideoJS5(this))\n      } else {\n        // Subsequent calls set options.\n        this.youboraplugin.setOptions(options)\n      }\n    })\n  }\n}\n","var youbora = require('youboralib')\nrequire('./adapter')\nrequire('./register-plugin')(youbora)\n\nmodule.exports = youbora\n"]}